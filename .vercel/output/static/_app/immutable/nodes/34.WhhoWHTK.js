import{S as tl,i as sl,s as ll,d as r,m as is,o as cs,p as al,b as W,c as e,F as ds,w as o,e as s,f as d,D as z,h as D,j as l,k as y,r as rl,n as us,u as ol,v as nl,x as il,y as cl,G as xt,H as dl,J as Bt,a as $,I as Se,K as zs,g as P,t as H,O as qs,W as Ft,E as ul}from"../chunks/BVH3f4ly.js";import{e as de}from"../chunks/CtnloIfX.js";import"../chunks/IHki7fMi.js";import{s as pe}from"../chunks/DtlnWW8f.js";import{g as vl}from"../chunks/BP_01uF4.js";import{L as fl}from"../chunks/CMJtAESs.js";function Bs(c,t,a){const v=c.slice();return v[11]=t[a],v}function Fs(c,t,a){const v=c.slice();return v[14]=t[a],v}function Gs(c,t,a){const v=c.slice();return v[17]=t[a],v}function $s(c,t,a){const v=c.slice();return v[20]=t[a],v}function Js(c,t,a){const v=c.slice();return v[23]=t[a],v}function hl(c){let t,a,v,x,T="‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤",h,f,w,M="7 ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤",I,N="30 ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤",V,_="3 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤",g,j="‡∏õ‡∏µ‡∏ô‡∏µ‡πâ",A,O,k,m="‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î",C,u,p,S="‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô",b,E="‡πÄ‡∏ã‡∏™‡∏ä‡∏±‡∏ô",q,F="‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå",B,te="‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå",le,ae,re,ue,ve,fe,bt="‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î",vt,ne,me=c[0].totalUsers.toLocaleString()+"",Ke,ft,oe,We="üë•",ht,L,U,G,se,xe="‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô",ke,ie,be=c[0].activeUsers.toLocaleString()+"",Qe,Le,ce,Gt,wt,$t,Jt,Te,vs="‚úÖ",Kt,Xe,we,Me,Pe,fs="‡πÄ‡∏ã‡∏™‡∏ä‡∏±‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î",Wt,Ye,_t=c[0].totalSessions.toLocaleString()+"",Dt,Qt,He,hs="üîÑ",Xt,Ze,De,je,Oe,_s="‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ (‡∏ô‡∏≤‡∏ó‡∏µ)",Yt,et,gt=c[0].averageSessionTime+"",yt,Zt,Ae,gs="‚è±Ô∏è",Et,he,ye,Ne,ps=`<h2 class="text-xl font-bold text-blue-800 flex items-center gap-3"><span class="text-2xl">üë•</span>
            ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó</h2>`,es,tt,Ue,ts,Ee,Re,ms=`<h2 class="text-xl font-bold text-green-800 flex items-center gap-3"><span class="text-2xl">üì±</span>
            ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h2>`,ss,st,ze,It,_e,qe,xs=`<h2 class="text-xl font-bold text-purple-800 flex items-center gap-3"><span class="text-2xl">üìä</span>
          ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô</h2>`,ls,lt,Be,Vt,ge,Ie,Fe,bs=`<h2 class="text-xl font-bold text-yellow-800 flex items-center gap-3"><span class="text-2xl">‚≠ê</span>
            ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏¢‡∏≠‡∏î‡∏ô‡∏¥‡∏¢‡∏°</h2>`,as,at,Ge,rs,Ve,$e,ws=`<h2 class="text-xl font-bold text-teal-800 flex items-center gap-3"><span class="text-2xl">üìà</span>
            ‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</h2>`,os,rt,Je,ns,Ds,ot=de(c[0].usersByRole),Q=[];for(let i=0;i<ot.length;i+=1)Q[i]=Ks(Js(c,ot,i));let nt=de(c[0].deviceStats),X=[];for(let i=0;i<nt.length;i+=1)X[i]=Ws($s(c,nt,i));let it=de(c[0].dailyActivity),Y=[];for(let i=0;i<it.length;i+=1)Y[i]=Qs(Gs(c,it,i));let ct=de(c[0].popularFeatures),Z=[];for(let i=0;i<ct.length;i+=1)Z[i]=Xs(Fs(c,ct,i));let dt=de(c[0].monthlyGrowth),ee=[];for(let i=0;i<dt.length;i+=1)ee[i]=Ys(Bs(c,dt,i));return{c(){t=l("div"),a=l("div"),v=l("div"),x=l("label"),x.textContent=T,h=y(),f=l("select"),w=l("option"),w.textContent=M,I=l("option"),I.textContent=N,V=l("option"),V.textContent=_,g=l("option"),g.textContent=j,A=y(),O=l("div"),k=l("label"),k.textContent=m,C=y(),u=l("select"),p=l("option"),p.textContent=S,b=l("option"),b.textContent=E,q=l("option"),q.textContent=F,B=l("option"),B.textContent=te,le=y(),ae=l("div"),re=l("div"),ue=l("div"),ve=l("div"),fe=l("p"),fe.textContent=bt,vt=y(),ne=l("p"),Ke=H(me),ft=y(),oe=l("div"),oe.textContent=We,ht=y(),L=l("div"),U=l("div"),G=l("div"),se=l("p"),se.textContent=xe,ke=y(),ie=l("p"),Qe=H(be),Le=y(),ce=l("p"),Gt=H("("),wt=H(c[4]),$t=H("%)"),Jt=y(),Te=l("div"),Te.textContent=vs,Kt=y(),Xe=l("div"),we=l("div"),Me=l("div"),Pe=l("p"),Pe.textContent=fs,Wt=y(),Ye=l("p"),Dt=H(_t),Qt=y(),He=l("div"),He.textContent=hs,Xt=y(),Ze=l("div"),De=l("div"),je=l("div"),Oe=l("p"),Oe.textContent=_s,Yt=y(),et=l("p"),yt=H(gt),Zt=y(),Ae=l("div"),Ae.textContent=gs,Et=y(),he=l("div"),ye=l("div"),Ne=l("div"),Ne.innerHTML=ps,es=y(),tt=l("div"),Ue=l("div");for(let i=0;i<Q.length;i+=1)Q[i].c();ts=y(),Ee=l("div"),Re=l("div"),Re.innerHTML=ms,ss=y(),st=l("div"),ze=l("div");for(let i=0;i<X.length;i+=1)X[i].c();It=y(),_e=l("div"),qe=l("div"),qe.innerHTML=xs,ls=y(),lt=l("div"),Be=l("div");for(let i=0;i<Y.length;i+=1)Y[i].c();Vt=y(),ge=l("div"),Ie=l("div"),Fe=l("div"),Fe.innerHTML=bs,as=y(),at=l("div"),Ge=l("div");for(let i=0;i<Z.length;i+=1)Z[i].c();rs=y(),Ve=l("div"),$e=l("div"),$e.innerHTML=ws,os=y(),rt=l("div"),Je=l("div");for(let i=0;i<ee.length;i+=1)ee[i].c();this.h()},l(i){t=s(i,"DIV",{class:!0});var R=d(t);a=s(R,"DIV",{class:!0});var n=d(a);v=s(n,"DIV",{class:!0});var J=d(v);x=s(J,"LABEL",{class:!0,"data-svelte-h":!0}),z(x)!=="svelte-1hnx7cn"&&(x.textContent=T),h=D(J),f=s(J,"SELECT",{class:!0});var pt=d(f);w=s(pt,"OPTION",{"data-svelte-h":!0}),z(w)!=="svelte-49glze"&&(w.textContent=M),I=s(pt,"OPTION",{"data-svelte-h":!0}),z(I)!=="svelte-1gny4qi"&&(I.textContent=N),V=s(pt,"OPTION",{"data-svelte-h":!0}),z(V)!=="svelte-16eqe8u"&&(V.textContent=_),g=s(pt,"OPTION",{"data-svelte-h":!0}),z(g)!=="svelte-t7fsse"&&(g.textContent=j),pt.forEach(r),J.forEach(r),A=D(n),O=s(n,"DIV",{class:!0});var Ct=d(O);k=s(Ct,"LABEL",{class:!0,"data-svelte-h":!0}),z(k)!=="svelte-2cdm6c"&&(k.textContent=m),C=D(Ct),u=s(Ct,"SELECT",{class:!0});var mt=d(u);p=s(mt,"OPTION",{"data-svelte-h":!0}),z(p)!=="svelte-lzzzw"&&(p.textContent=S),b=s(mt,"OPTION",{"data-svelte-h":!0}),z(b)!=="svelte-w0ongk"&&(b.textContent=E),q=s(mt,"OPTION",{"data-svelte-h":!0}),z(q)!=="svelte-e5djx9"&&(q.textContent=F),B=s(mt,"OPTION",{"data-svelte-h":!0}),z(B)!=="svelte-pgr5um"&&(B.textContent=te),mt.forEach(r),Ct.forEach(r),n.forEach(r),R.forEach(r),le=D(i),ae=s(i,"DIV",{class:!0});var Ce=d(ae);re=s(Ce,"DIV",{class:!0});var ys=d(re);ue=s(ys,"DIV",{class:!0});var St=d(ue);ve=s(St,"DIV",{});var kt=d(ve);fe=s(kt,"P",{class:!0,"data-svelte-h":!0}),z(fe)!=="svelte-1pokotk"&&(fe.textContent=bt),vt=D(kt),ne=s(kt,"P",{class:!0});var Es=d(ne);Ke=P(Es,me),Es.forEach(r),kt.forEach(r),ft=D(St),oe=s(St,"DIV",{class:!0,"data-svelte-h":!0}),z(oe)!=="svelte-10ll9qe"&&(oe.textContent=We),St.forEach(r),ys.forEach(r),ht=D(Ce),L=s(Ce,"DIV",{class:!0});var Is=d(L);U=s(Is,"DIV",{class:!0});var Lt=d(U);G=s(Lt,"DIV",{});var ut=d(G);se=s(ut,"P",{class:!0,"data-svelte-h":!0}),z(se)!=="svelte-1gi5nht"&&(se.textContent=xe),ke=D(ut),ie=s(ut,"P",{class:!0});var Vs=d(ie);Qe=P(Vs,be),Vs.forEach(r),Le=D(ut),ce=s(ut,"P",{class:!0});var Tt=d(ce);Gt=P(Tt,"("),wt=P(Tt,c[4]),$t=P(Tt,"%)"),Tt.forEach(r),ut.forEach(r),Jt=D(Lt),Te=s(Lt,"DIV",{class:!0,"data-svelte-h":!0}),z(Te)!=="svelte-dh1wtr"&&(Te.textContent=vs),Lt.forEach(r),Is.forEach(r),Kt=D(Ce),Xe=s(Ce,"DIV",{class:!0});var Cs=d(Xe);we=s(Cs,"DIV",{class:!0});var Mt=d(we);Me=s(Mt,"DIV",{});var Pt=d(Me);Pe=s(Pt,"P",{class:!0,"data-svelte-h":!0}),z(Pe)!=="svelte-17gooax"&&(Pe.textContent=fs),Wt=D(Pt),Ye=s(Pt,"P",{class:!0});var Ss=d(Ye);Dt=P(Ss,_t),Ss.forEach(r),Pt.forEach(r),Qt=D(Mt),He=s(Mt,"DIV",{class:!0,"data-svelte-h":!0}),z(He)!=="svelte-1guv73x"&&(He.textContent=hs),Mt.forEach(r),Cs.forEach(r),Xt=D(Ce),Ze=s(Ce,"DIV",{class:!0});var ks=d(Ze);De=s(ks,"DIV",{class:!0});var Ht=d(De);je=s(Ht,"DIV",{});var jt=d(je);Oe=s(jt,"P",{class:!0,"data-svelte-h":!0}),z(Oe)!=="svelte-1rxpuup"&&(Oe.textContent=_s),Yt=D(jt),et=s(jt,"P",{class:!0});var Ls=d(et);yt=P(Ls,gt),Ls.forEach(r),jt.forEach(r),Zt=D(Ht),Ae=s(Ht,"DIV",{class:!0,"data-svelte-h":!0}),z(Ae)!=="svelte-1fjvj18"&&(Ae.textContent=gs),Ht.forEach(r),ks.forEach(r),Ce.forEach(r),Et=D(i),he=s(i,"DIV",{class:!0});var Ot=d(he);ye=s(Ot,"DIV",{class:!0});var At=d(ye);Ne=s(At,"DIV",{class:!0,"data-svelte-h":!0}),z(Ne)!=="svelte-1tabla0"&&(Ne.innerHTML=ps),es=D(At),tt=s(At,"DIV",{class:!0});var Ts=d(tt);Ue=s(Ts,"DIV",{class:!0});var Ms=d(Ue);for(let K=0;K<Q.length;K+=1)Q[K].l(Ms);Ms.forEach(r),Ts.forEach(r),At.forEach(r),ts=D(Ot),Ee=s(Ot,"DIV",{class:!0});var Nt=d(Ee);Re=s(Nt,"DIV",{class:!0,"data-svelte-h":!0}),z(Re)!=="svelte-1fvhk2p"&&(Re.innerHTML=ms),ss=D(Nt),st=s(Nt,"DIV",{class:!0});var Ps=d(st);ze=s(Ps,"DIV",{class:!0});var Hs=d(ze);for(let K=0;K<X.length;K+=1)X[K].l(Hs);Hs.forEach(r),Ps.forEach(r),Nt.forEach(r),Ot.forEach(r),It=D(i),_e=s(i,"DIV",{class:!0});var Ut=d(_e);qe=s(Ut,"DIV",{class:!0,"data-svelte-h":!0}),z(qe)!=="svelte-10a2a6i"&&(qe.innerHTML=xs),ls=D(Ut),lt=s(Ut,"DIV",{class:!0});var js=d(lt);Be=s(js,"DIV",{class:!0});var Os=d(Be);for(let K=0;K<Y.length;K+=1)Y[K].l(Os);Os.forEach(r),js.forEach(r),Ut.forEach(r),Vt=D(i),ge=s(i,"DIV",{class:!0});var Rt=d(ge);Ie=s(Rt,"DIV",{class:!0});var zt=d(Ie);Fe=s(zt,"DIV",{class:!0,"data-svelte-h":!0}),z(Fe)!=="svelte-1x0zfrp"&&(Fe.innerHTML=bs),as=D(zt),at=s(zt,"DIV",{class:!0});var As=d(at);Ge=s(As,"DIV",{class:!0});var Ns=d(Ge);for(let K=0;K<Z.length;K+=1)Z[K].l(Ns);Ns.forEach(r),As.forEach(r),zt.forEach(r),rs=D(Rt),Ve=s(Rt,"DIV",{class:!0});var qt=d(Ve);$e=s(qt,"DIV",{class:!0,"data-svelte-h":!0}),z($e)!=="svelte-iedb4j"&&($e.innerHTML=ws),os=D(qt),rt=s(qt,"DIV",{class:!0});var Us=d(rt);Je=s(Us,"DIV",{class:!0});var Rs=d(Je);for(let K=0;K<ee.length;K+=1)ee[K].l(Rs);Rs.forEach(r),Us.forEach(r),qt.forEach(r),Rt.forEach(r),this.h()},h(){o(x,"class","block text-sm font-bold text-gray-700 mb-3"),w.__value="7days",Se(w,w.__value),I.__value="30days",Se(I,I.__value),V.__value="3months",Se(V,V.__value),g.__value="year",Se(g,g.__value),o(f,"class","w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all shadow-sm bg-white"),c[2]===void 0&&zs(()=>c[5].call(f)),o(v,"class","flex-1"),o(k,"class","block text-sm font-bold text-gray-700 mb-3"),p.__value="users",Se(p,p.__value),b.__value="sessions",Se(b,b.__value),q.__value="features",Se(q,q.__value),B.__value="devices",Se(B,B.__value),o(u,"class","w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all shadow-sm bg-white"),c[3]===void 0&&zs(()=>c[6].call(u)),o(O,"class","flex-1"),o(a,"class","flex flex-col md:flex-row gap-6"),o(t,"class","bg-gradient-to-r from-white to-blue-50 rounded-2xl shadow-lg border border-blue-200 p-6 mb-8"),o(fe,"class","text-blue-100 text-sm font-medium"),o(ne,"class","text-3xl font-bold"),o(oe,"class","w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center text-2xl"),o(ue,"class","flex items-center justify-between"),o(re,"class","bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-2xl shadow-lg"),o(se,"class","text-green-100 text-sm font-medium"),o(ie,"class","text-3xl font-bold"),o(ce,"class","text-green-200 text-xs"),o(Te,"class","w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center text-2xl"),o(U,"class","flex items-center justify-between"),o(L,"class","bg-gradient-to-br from-green-500 to-green-600 text-white p-6 rounded-2xl shadow-lg"),o(Pe,"class","text-purple-100 text-sm font-medium"),o(Ye,"class","text-3xl font-bold"),o(He,"class","w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center text-2xl"),o(we,"class","flex items-center justify-between"),o(Xe,"class","bg-gradient-to-br from-purple-500 to-purple-600 text-white p-6 rounded-2xl shadow-lg"),o(Oe,"class","text-orange-100 text-sm font-medium"),o(et,"class","text-3xl font-bold"),o(Ae,"class","w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center text-2xl"),o(De,"class","flex items-center justify-between"),o(Ze,"class","bg-gradient-to-br from-orange-500 to-orange-600 text-white p-6 rounded-2xl shadow-lg"),o(ae,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"),o(Ne,"class","bg-gradient-to-r from-blue-50 to-blue-100 px-6 py-4 border-b border-blue-200"),o(Ue,"class","space-y-4"),o(tt,"class","p-6"),o(ye,"class","bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden"),o(Re,"class","bg-gradient-to-r from-green-50 to-green-100 px-6 py-4 border-b border-green-200"),o(ze,"class","space-y-6"),o(st,"class","p-6"),o(Ee,"class","bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden"),o(he,"class","grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8"),o(qe,"class","bg-gradient-to-r from-purple-50 to-purple-100 px-6 py-4 border-b border-purple-200"),o(Be,"class","grid grid-cols-7 gap-4"),o(lt,"class","p-6"),o(_e,"class","bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden mb-8"),o(Fe,"class","bg-gradient-to-r from-yellow-50 to-yellow-100 px-6 py-4 border-b border-yellow-200"),o(Ge,"class","space-y-4"),o(at,"class","p-6"),o(Ie,"class","bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden"),o($e,"class","bg-gradient-to-r from-teal-50 to-teal-100 px-6 py-4 border-b border-teal-200"),o(Je,"class","space-y-4"),o(rt,"class","p-6"),o(Ve,"class","bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden"),o(ge,"class","grid grid-cols-1 lg:grid-cols-2 gap-8")},m(i,R){W(i,t,R),e(t,a),e(a,v),e(v,x),e(v,h),e(v,f),e(f,w),e(f,I),e(f,V),e(f,g),Bt(f,c[2],!0),e(a,A),e(a,O),e(O,k),e(O,C),e(O,u),e(u,p),e(u,b),e(u,q),e(u,B),Bt(u,c[3],!0),W(i,le,R),W(i,ae,R),e(ae,re),e(re,ue),e(ue,ve),e(ve,fe),e(ve,vt),e(ve,ne),e(ne,Ke),e(ue,ft),e(ue,oe),e(ae,ht),e(ae,L),e(L,U),e(U,G),e(G,se),e(G,ke),e(G,ie),e(ie,Qe),e(G,Le),e(G,ce),e(ce,Gt),e(ce,wt),e(ce,$t),e(U,Jt),e(U,Te),e(ae,Kt),e(ae,Xe),e(Xe,we),e(we,Me),e(Me,Pe),e(Me,Wt),e(Me,Ye),e(Ye,Dt),e(we,Qt),e(we,He),e(ae,Xt),e(ae,Ze),e(Ze,De),e(De,je),e(je,Oe),e(je,Yt),e(je,et),e(et,yt),e(De,Zt),e(De,Ae),W(i,Et,R),W(i,he,R),e(he,ye),e(ye,Ne),e(ye,es),e(ye,tt),e(tt,Ue);for(let n=0;n<Q.length;n+=1)Q[n]&&Q[n].m(Ue,null);e(he,ts),e(he,Ee),e(Ee,Re),e(Ee,ss),e(Ee,st),e(st,ze);for(let n=0;n<X.length;n+=1)X[n]&&X[n].m(ze,null);W(i,It,R),W(i,_e,R),e(_e,qe),e(_e,ls),e(_e,lt),e(lt,Be);for(let n=0;n<Y.length;n+=1)Y[n]&&Y[n].m(Be,null);W(i,Vt,R),W(i,ge,R),e(ge,Ie),e(Ie,Fe),e(Ie,as),e(Ie,at),e(at,Ge);for(let n=0;n<Z.length;n+=1)Z[n]&&Z[n].m(Ge,null);e(ge,rs),e(ge,Ve),e(Ve,$e),e(Ve,os),e(Ve,rt),e(rt,Je);for(let n=0;n<ee.length;n+=1)ee[n]&&ee[n].m(Je,null);ns||(Ds=[ds(f,"change",c[5]),ds(u,"change",c[6])],ns=!0)},p(i,R){if(R&4&&Bt(f,i[2]),R&8&&Bt(u,i[3]),R&1&&me!==(me=i[0].totalUsers.toLocaleString()+"")&&$(Ke,me),R&1&&be!==(be=i[0].activeUsers.toLocaleString()+"")&&$(Qe,be),R&16&&$(wt,i[4]),R&1&&_t!==(_t=i[0].totalSessions.toLocaleString()+"")&&$(Dt,_t),R&1&&gt!==(gt=i[0].averageSessionTime+"")&&$(yt,gt),R&1){ot=de(i[0].usersByRole);let n;for(n=0;n<ot.length;n+=1){const J=Js(i,ot,n);Q[n]?Q[n].p(J,R):(Q[n]=Ks(J),Q[n].c(),Q[n].m(Ue,null))}for(;n<Q.length;n+=1)Q[n].d(1);Q.length=ot.length}if(R&1){nt=de(i[0].deviceStats);let n;for(n=0;n<nt.length;n+=1){const J=$s(i,nt,n);X[n]?X[n].p(J,R):(X[n]=Ws(J),X[n].c(),X[n].m(ze,null))}for(;n<X.length;n+=1)X[n].d(1);X.length=nt.length}if(R&1){it=de(i[0].dailyActivity);let n;for(n=0;n<it.length;n+=1){const J=Gs(i,it,n);Y[n]?Y[n].p(J,R):(Y[n]=Qs(J),Y[n].c(),Y[n].m(Be,null))}for(;n<Y.length;n+=1)Y[n].d(1);Y.length=it.length}if(R&1){ct=de(i[0].popularFeatures);let n;for(n=0;n<ct.length;n+=1){const J=Fs(i,ct,n);Z[n]?Z[n].p(J,R):(Z[n]=Xs(J),Z[n].c(),Z[n].m(Ge,null))}for(;n<Z.length;n+=1)Z[n].d(1);Z.length=ct.length}if(R&1){dt=de(i[0].monthlyGrowth);let n;for(n=0;n<dt.length;n+=1){const J=Bs(i,dt,n);ee[n]?ee[n].p(J,R):(ee[n]=Ys(J),ee[n].c(),ee[n].m(Je,null))}for(;n<ee.length;n+=1)ee[n].d(1);ee.length=dt.length}},i:us,o:us,d(i){i&&(r(t),r(le),r(ae),r(Et),r(he),r(It),r(_e),r(Vt),r(ge)),xt(Q,i),xt(X,i),xt(Y,i),xt(Z,i),xt(ee,i),ns=!1,dl(Ds)}}}function _l(c){let t,a,v;return a=new fl({props:{size:"lg",text:"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô..."}}),{c(){t=l("div"),cl(a.$$.fragment),this.h()},l(x){t=s(x,"DIV",{class:!0});var T=d(t);il(a.$$.fragment,T),T.forEach(r),this.h()},h(){o(t,"class","flex justify-center items-center py-12")},m(x,T){W(x,t,T),nl(a,t,null),v=!0},p:us,i(x){v||(cs(a.$$.fragment,x),v=!0)},o(x){is(a.$$.fragment,x),v=!1},d(x){x&&r(t),ol(a)}}}function Ks(c){let t,a,v=Zs(c[23].role)+"",x,T,h,f,w,M=c[23].count+"",I,N,V,_,g=c[23].percentage+"",j,A,O,k,m,C,u;return{c(){t=l("div"),a=l("div"),x=H(v),T=y(),h=l("div"),f=l("div"),w=l("span"),I=H(M),N=H(" ‡∏Ñ‡∏ô"),V=y(),_=l("span"),j=H(g),A=H("%"),O=y(),k=l("div"),m=l("div"),u=y(),this.h()},l(p){t=s(p,"DIV",{class:!0});var S=d(t);a=s(S,"DIV",{class:!0});var b=d(a);x=P(b,v),b.forEach(r),T=D(S),h=s(S,"DIV",{class:!0});var E=d(h);f=s(E,"DIV",{class:!0});var q=d(f);w=s(q,"SPAN",{class:!0});var F=d(w);I=P(F,M),N=P(F," ‡∏Ñ‡∏ô"),F.forEach(r),V=D(q),_=s(q,"SPAN",{class:!0});var B=d(_);j=P(B,g),A=P(B,"%"),B.forEach(r),q.forEach(r),O=D(E),k=s(E,"DIV",{class:!0});var te=d(k);m=s(te,"DIV",{class:!0,style:!0}),d(m).forEach(r),te.forEach(r),E.forEach(r),u=D(S),S.forEach(r),this.h()},h(){o(a,"class","w-20 text-sm font-medium text-gray-700"),o(w,"class","text-sm text-gray-600"),o(_,"class","text-sm font-medium text-gray-700"),o(f,"class","flex items-center justify-between mb-1"),o(m,"class",C="h-3 rounded-full "+c[23].color),Ft(m,"width",c[23].percentage+"%"),o(k,"class","w-full bg-gray-200 rounded-full h-3"),o(h,"class","flex-1"),o(t,"class","flex items-center gap-4")},m(p,S){W(p,t,S),e(t,a),e(a,x),e(t,T),e(t,h),e(h,f),e(f,w),e(w,I),e(w,N),e(f,V),e(f,_),e(_,j),e(_,A),e(h,O),e(h,k),e(k,m),e(t,u)},p(p,S){S&1&&v!==(v=Zs(p[23].role)+"")&&$(x,v),S&1&&M!==(M=p[23].count+"")&&$(I,M),S&1&&g!==(g=p[23].percentage+"")&&$(j,g),S&1&&C!==(C="h-3 rounded-full "+p[23].color)&&o(m,"class",C),S&1&&Ft(m,"width",p[23].percentage+"%")},d(p){p&&r(t)}}}function gl(c){let t;return{c(){t=H("üì±")},l(a){t=P(a,"üì±")},m(a,v){W(a,t,v)},d(a){a&&r(t)}}}function pl(c){let t;return{c(){t=H("üíª")},l(a){t=P(a,"üíª")},m(a,v){W(a,t,v)},d(a){a&&r(t)}}}function ml(c){let t;return{c(){t=H("üì±")},l(a){t=P(a,"üì±")},m(a,v){W(a,t,v)},d(a){a&&r(t)}}}function Ws(c){let t,a,v,x,T=c[20].device+"",h,f,w,M=c[20].count+"",I,N,V,_=c[20].percentage+"",g,j,A;function O(C,u){return C[20].device==="‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠"?ml:C[20].device==="‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå"?pl:gl}let k=O(c),m=k(c);return{c(){t=l("div"),a=l("div"),m.c(),v=y(),x=l("h3"),h=H(T),f=y(),w=l("p"),I=H(M),N=y(),V=l("p"),g=H(_),j=H("%"),A=y(),this.h()},l(C){t=s(C,"DIV",{class:!0});var u=d(t);a=s(u,"DIV",{class:!0});var p=d(a);m.l(p),p.forEach(r),v=D(u),x=s(u,"H3",{class:!0});var S=d(x);h=P(S,T),S.forEach(r),f=D(u),w=s(u,"P",{class:!0});var b=d(w);I=P(b,M),b.forEach(r),N=D(u),V=s(u,"P",{class:!0});var E=d(V);g=P(E,_),j=P(E,"%"),E.forEach(r),A=D(u),u.forEach(r),this.h()},h(){o(a,"class","text-3xl mb-2"),o(x,"class","font-semibold text-gray-800 mb-1"),o(w,"class","text-2xl font-bold text-green-600"),o(V,"class","text-sm text-gray-500"),o(t,"class","text-center")},m(C,u){W(C,t,u),e(t,a),m.m(a,null),e(t,v),e(t,x),e(x,h),e(t,f),e(t,w),e(w,I),e(t,N),e(t,V),e(V,g),e(V,j),e(t,A)},p(C,u){k!==(k=O(C))&&(m.d(1),m=k(C),m&&(m.c(),m.m(a,null))),u&1&&T!==(T=C[20].device+"")&&$(h,T),u&1&&M!==(M=C[20].count+"")&&$(I,M),u&1&&_!==(_=C[20].percentage+"")&&$(g,_)},d(C){C&&r(t),m.d()}}}function Qs(c){let t,a,v=el(c[17].date)+"",x,T,h,f,w=c[17].users+"",M,I,N,V="‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ",_,g,j=c[17].sessions+"",A,O,k,m,C=c[17].duration+"",u,p,S;return{c(){t=l("div"),a=l("div"),x=H(v),T=y(),h=l("div"),f=l("div"),M=H(w),I=y(),N=l("div"),N.textContent=V,_=y(),g=l("div"),A=H(j),O=H(" ‡πÄ‡∏ã‡∏™‡∏ä‡∏±‡∏ô"),k=y(),m=l("div"),u=H(C),p=H(" ‡∏ô‡∏≤‡∏ó‡∏µ"),S=y(),this.h()},l(b){t=s(b,"DIV",{class:!0});var E=d(t);a=s(E,"DIV",{class:!0});var q=d(a);x=P(q,v),q.forEach(r),T=D(E),h=s(E,"DIV",{class:!0});var F=d(h);f=s(F,"DIV",{class:!0});var B=d(f);M=P(B,w),B.forEach(r),I=D(F),N=s(F,"DIV",{class:!0,"data-svelte-h":!0}),z(N)!=="svelte-1365epn"&&(N.textContent=V),_=D(F),g=s(F,"DIV",{class:!0});var te=d(g);A=P(te,j),O=P(te," ‡πÄ‡∏ã‡∏™‡∏ä‡∏±‡∏ô"),te.forEach(r),k=D(F),m=s(F,"DIV",{class:!0});var le=d(m);u=P(le,C),p=P(le," ‡∏ô‡∏≤‡∏ó‡∏µ"),le.forEach(r),F.forEach(r),S=D(E),E.forEach(r),this.h()},h(){o(a,"class","text-sm text-gray-500 mb-2"),o(f,"class","text-lg font-bold text-purple-800"),o(N,"class","text-xs text-purple-600"),o(g,"class","text-sm text-gray-600"),o(m,"class","text-xs text-gray-500"),o(h,"class","bg-purple-100 rounded-lg p-4 space-y-2"),o(t,"class","text-center")},m(b,E){W(b,t,E),e(t,a),e(a,x),e(t,T),e(t,h),e(h,f),e(f,M),e(h,I),e(h,N),e(h,_),e(h,g),e(g,A),e(g,O),e(h,k),e(h,m),e(m,u),e(m,p),e(t,S)},p(b,E){E&1&&v!==(v=el(b[17].date)+"")&&$(x,v),E&1&&w!==(w=b[17].users+"")&&$(M,w),E&1&&j!==(j=b[17].sessions+"")&&$(A,j),E&1&&C!==(C=b[17].duration+"")&&$(u,C)},d(b){b&&r(t)}}}function Xs(c){let t,a,v=c[14].feature+"",x,T,h,f,w,M=c[14].usage.toLocaleString()+"",I,N,V,_,g=c[14].percentage+"",j,A,O,k,m,C;return{c(){t=l("div"),a=l("div"),x=H(v),T=y(),h=l("div"),f=l("div"),w=l("span"),I=H(M),N=H(" ‡∏Ñ‡∏£‡∏±‡πâ‡∏á"),V=y(),_=l("span"),j=H(g),A=H("%"),O=y(),k=l("div"),m=l("div"),C=y(),this.h()},l(u){t=s(u,"DIV",{class:!0});var p=d(t);a=s(p,"DIV",{class:!0});var S=d(a);x=P(S,v),S.forEach(r),T=D(p),h=s(p,"DIV",{class:!0});var b=d(h);f=s(b,"DIV",{class:!0});var E=d(f);w=s(E,"SPAN",{class:!0});var q=d(w);I=P(q,M),N=P(q," ‡∏Ñ‡∏£‡∏±‡πâ‡∏á"),q.forEach(r),V=D(E),_=s(E,"SPAN",{class:!0});var F=d(_);j=P(F,g),A=P(F,"%"),F.forEach(r),E.forEach(r),O=D(b),k=s(b,"DIV",{class:!0});var B=d(k);m=s(B,"DIV",{class:!0,style:!0}),d(m).forEach(r),B.forEach(r),b.forEach(r),C=D(p),p.forEach(r),this.h()},h(){o(a,"class","w-24 text-sm font-medium text-gray-700"),o(w,"class","text-sm text-gray-600"),o(_,"class","text-sm font-medium text-gray-700"),o(f,"class","flex items-center justify-between mb-1"),o(m,"class","h-2 rounded-full bg-yellow-500"),Ft(m,"width",c[14].percentage+"%"),o(k,"class","w-full bg-gray-200 rounded-full h-2"),o(h,"class","flex-1"),o(t,"class","flex items-center gap-4")},m(u,p){W(u,t,p),e(t,a),e(a,x),e(t,T),e(t,h),e(h,f),e(f,w),e(w,I),e(w,N),e(f,V),e(f,_),e(_,j),e(_,A),e(h,O),e(h,k),e(k,m),e(t,C)},p(u,p){p&1&&v!==(v=u[14].feature+"")&&$(x,v),p&1&&M!==(M=u[14].usage.toLocaleString()+"")&&$(I,M),p&1&&g!==(g=u[14].percentage+"")&&$(j,g),p&1&&Ft(m,"width",u[14].percentage+"%")},d(u){u&&r(t)}}}function Ys(c){let t,a,v,x=c[11].month+"",T,h,f,w=c[11].users.toLocaleString()+"",M,I,N,V,_,g=c[11].growth>0?"+":"",j,A=c[11].growth+"",O,k,m,C,u,p="‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï",S;return{c(){t=l("div"),a=l("div"),v=l("h3"),T=H(x),h=y(),f=l("p"),M=H(w),I=H(" ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ"),N=y(),V=l("div"),_=l("div"),j=H(g),O=H(A),k=H("%"),C=y(),u=l("div"),u.textContent=p,S=y(),this.h()},l(b){t=s(b,"DIV",{class:!0});var E=d(t);a=s(E,"DIV",{});var q=d(a);v=s(q,"H3",{class:!0});var F=d(v);T=P(F,x),F.forEach(r),h=D(q),f=s(q,"P",{class:!0});var B=d(f);M=P(B,w),I=P(B," ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ"),B.forEach(r),q.forEach(r),N=D(E),V=s(E,"DIV",{class:!0});var te=d(V);_=s(te,"DIV",{class:!0});var le=d(_);j=P(le,g),O=P(le,A),k=P(le,"%"),le.forEach(r),C=D(te),u=s(te,"DIV",{class:!0,"data-svelte-h":!0}),z(u)!=="svelte-197o7t5"&&(u.textContent=p),te.forEach(r),S=D(E),E.forEach(r),this.h()},h(){o(v,"class","font-semibold text-gray-800"),o(f,"class","text-sm text-gray-600"),o(_,"class",m="text-lg font-bold "+(c[11].growth>0?"text-green-600":"text-red-600")),o(u,"class","text-xs text-gray-500"),o(V,"class","text-right"),o(t,"class","flex items-center justify-between p-4 bg-teal-50 rounded-xl")},m(b,E){W(b,t,E),e(t,a),e(a,v),e(v,T),e(a,h),e(a,f),e(f,M),e(f,I),e(t,N),e(t,V),e(V,_),e(_,j),e(_,O),e(_,k),e(V,C),e(V,u),e(t,S)},p(b,E){E&1&&x!==(x=b[11].month+"")&&$(T,x),E&1&&w!==(w=b[11].users.toLocaleString()+"")&&$(M,w),E&1&&g!==(g=b[11].growth>0?"+":"")&&$(j,g),E&1&&A!==(A=b[11].growth+"")&&$(O,A),E&1&&m!==(m="text-lg font-bold "+(b[11].growth>0?"text-green-600":"text-red-600"))&&o(_,"class",m)},d(b){b&&r(t)}}}function xl(c){let t,a,v,x='<div class="w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-2xl flex items-center justify-center text-white text-3xl shadow-lg">üìà</div> <div><h1 class="text-4xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h1> <p class="text-gray-600 text-lg">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡∏∞‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</p></div>',T,h,f,w="<span>üìä</span> <span>‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</span>",M,I,N="<span>‚Üê</span> <span>‡∏Å‡∏•‡∏±‡∏ö</span>",V,_,g,j,A,O;const k=[_l,hl],m=[];function C(u,p){return u[1]?0:1}return _=C(c),g=m[_]=k[_](c),{c(){t=l("div"),a=l("div"),v=l("div"),v.innerHTML=x,T=y(),h=l("div"),f=l("button"),f.innerHTML=w,M=y(),I=l("a"),I.innerHTML=N,V=y(),g.c(),this.h()},l(u){t=s(u,"DIV",{class:!0});var p=d(t);a=s(p,"DIV",{class:!0});var S=d(a);v=s(S,"DIV",{class:!0,"data-svelte-h":!0}),z(v)!=="svelte-9cjojc"&&(v.innerHTML=x),T=D(S),h=s(S,"DIV",{class:!0});var b=d(h);f=s(b,"BUTTON",{class:!0,"data-svelte-h":!0}),z(f)!=="svelte-1mff23x"&&(f.innerHTML=w),M=D(b),I=s(b,"A",{href:!0,class:!0,"data-svelte-h":!0}),z(I)!=="svelte-1d3vt6n"&&(I.innerHTML=N),b.forEach(r),S.forEach(r),V=D(p),g.l(p),p.forEach(r),this.h()},h(){o(v,"class","flex items-center gap-4"),o(f,"class","flex items-center gap-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-xl transition-colors"),o(I,"href","/reports"),o(I,"class","flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl transition-colors no-underline"),o(h,"class","flex gap-3"),o(a,"class","flex items-center justify-between mb-8"),o(t,"class","max-w-7xl mx-auto")},m(u,p){W(u,t,p),e(t,a),e(a,v),e(a,T),e(a,h),e(h,f),e(h,M),e(h,I),e(t,V),m[_].m(t,null),j=!0,A||(O=ds(f,"click",wl),A=!0)},p(u,[p]){let S=_;_=C(u),_===S?m[_].p(u,p):(ul(),is(m[S],1,1,()=>{m[S]=null}),al(),g=m[_],g?g.p(u,p):(g=m[_]=k[_](u),g.c()),cs(g,1),g.m(t,null))},i(u){j||(cs(g),j=!0)},o(u){is(g),j=!1},d(u){u&&r(t),m[_].d(),A=!1,O()}}}function bl(c){return{login:"‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö",view_course:"‡∏î‡∏π‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£",complete_lesson:"‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏à‡∏ö‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô",send_message:"‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°",take_quiz:"‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö",view_profile:"‡∏î‡∏π‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå",create_content:"‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤",logout:"‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö"}[c]||c}function Zs(c){return{super_admin:"‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î",admin:"‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö",teacher:"‡∏Ñ‡∏£‡∏π",parent:"‡∏ú‡∏π‡πâ‡∏õ‡∏Å‡∏Ñ‡∏£‡∏≠‡∏á",student:"‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô"}[c]||c}function el(c){return new Date(c).toLocaleDateString("th-TH",{day:"numeric",month:"short"})}async function wl(){alert("‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô... (‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï)")}function Dl(c,t,a){let v,x=null,T=!0,h={totalUsers:0,activeUsers:0,totalSessions:0,averageSessionTime:0,usersByRole:[],dailyActivity:[],popularFeatures:[],deviceStats:[],monthlyGrowth:[]},f="7days",w="users";rl(async()=>{const{data:{session:_}}=await pe.auth.getSession();if(!_){vl("/login");return}x=_.user,await M(),await I(),a(1,T=!1)});async function M(){if(!x)return;const{data:_}=await pe.from("profiles").select("*").eq("id",x.id).single()}async function I(){var _;try{const[g,j,A,O,k,m,C]=await Promise.all([pe.from("profiles").select("id, role, created_at"),pe.from("messages").select("id, created_at"),pe.from("courses").select("id, created_at"),pe.from("system_logs").select("user_id, action, created_at").limit(1e3),pe.from("student_progress").select("student_id, created_at, updated_at"),pe.from("quiz_attempts").select("student_id, created_at"),pe.from("course_enrollments").select("student_id, created_at")]),u=g.data||[],p=j.data||[],S=A.data||[],b=O.data||[],E=k.data||[],q=m.data||[],F=C.data||[],B=u.length,te=new Date(Date.now()-30*24*60*60*1e3),le=b.filter(L=>new Date(L.created_at)>te),re=new Set(le.map(L=>L.user_id)).size,ue=p.length,ve=Math.floor(re*1.8),fe={student:"bg-blue-500",teacher:"bg-green-500",parent:"bg-orange-500",admin:"bg-purple-500",super_admin:"bg-red-500"},bt=["student","teacher","parent","admin","super_admin"].map(L=>{const U=u.filter(se=>se.role===L).length,G=B>0?U/B*100:0;return{role:L,count:U,percentage:Math.round(G*10)/10,color:fe[L]}}).filter(L=>L.count>0),vt=Array.from({length:7},(L,U)=>{const G=new Date(Date.now()-U*24*60*60*1e3),se=new Date(G.setHours(0,0,0,0)),xe=new Date(G.setHours(23,59,59,999)),ke=b.filter(Le=>{const ce=new Date(Le.created_at);return ce>=se&&ce<=xe}),ie=new Set(ke.map(Le=>Le.user_id)).size,be=Math.floor(ie*1.3),Qe=15+Math.random()*20;return{date:se.toISOString().split("T")[0],users:ie,sessions:be,duration:Math.round(Qe*10)/10}}).reverse(),ne={};b.forEach(L=>{ne[L.action]=(ne[L.action]||0)+1});const me=Object.values(ne).reduce((L,U)=>L+U,0),Ke=Object.entries(ne).map(([L,U])=>({feature:bl(L),usage:U,percentage:me>0?U/me*100:0})).sort((L,U)=>U.usage-L.usage).slice(0,6),ft=[{device:"‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠",count:Math.floor(re*.65),percentage:65},{device:"‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå",count:Math.floor(re*.3),percentage:30},{device:"‡πÅ‡∏ó‡πá‡∏ö‡πÄ‡∏•‡πá‡∏ï",count:Math.floor(re*.05),percentage:5}],oe=[];for(let L=2;L>=0;L--){const U=new Date;U.setMonth(U.getMonth()-L),U.setDate(1),U.setHours(0,0,0,0);const G=new Date(U);G.setMonth(G.getMonth()+1),G.setDate(0),G.setHours(23,59,59,999);const se=u.filter(ie=>new Date(ie.created_at)<=G).length,xe=L===2?Math.floor(se*.85):((_=oe[oe.length-1])==null?void 0:_.users)||0,ke=xe>0?(se-xe)/xe*100:0;oe.push({month:U.toLocaleDateString("th-TH",{month:"short"}),users:se,growth:Math.round(ke*10)/10})}const We=E.map(L=>{const U=new Date(L.created_at),G=new Date(L.updated_at);return Math.max(0,(G-U)/(1e3*60))}).filter(L=>L>0&&L<180),ht=We.length>0?We.reduce((L,U)=>L+U,0)/We.length:25;a(0,h={totalUsers:B,activeUsers:re,totalSessions:ve,averageSessionTime:Math.round(ht*10)/10,usersByRole:bt,dailyActivity:vt,popularFeatures:Ke,deviceStats:ft,monthlyGrowth:oe})}catch(g){console.error("Error loading usage data:",g),a(0,h={totalUsers:0,activeUsers:0,totalSessions:0,averageSessionTime:0,usersByRole:[],dailyActivity:[],popularFeatures:[],deviceStats:[],monthlyGrowth:[]})}}function N(){f=qs(this),a(2,f)}function V(){w=qs(this),a(3,w)}return c.$$.update=()=>{c.$$.dirty&1&&a(4,v=(h.activeUsers/h.totalUsers*100).toFixed(1))},[h,T,f,w,v,N,V]}class kl extends tl{constructor(t){super(),sl(this,t,Dl,xl,ll,{})}}export{kl as component};
