import{S as at,i as rt,s as ot,n as xe,d as o,b as P,c as n,w as C,e as i,f as b,D as N,h as T,j as c,k as y,r as it,O as Ke,G as Re,H as ct,J as Fe,a as J,F as qe,I as je,K as We,g as F,q as Ye,t as M,W as Ze}from"../chunks/BVH3f4ly.js";import{e as Se}from"../chunks/CtnloIfX.js";import"../chunks/IHki7fMi.js";import{s as He}from"../chunks/DtlnWW8f.js";import{g as ut}from"../chunks/C5JyHtm3.js";function Qe(s,e,l){const t=s.slice();return t[18]=e[l],t}function ft(s){const e=s.slice(),l=Et(e[18].score);return e[21]=l,e}function Xe(s,e,l){const t=s.slice();return t[22]=e[l],t}function $e(s,e,l){const t=s.slice();return t[25]=e[l],t}function dt(s){let e,l,t,u="‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£",f,a,p,h="‡∏ó‡∏∏‡∏Å‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£",m,D,d,z="‡πÇ‡∏ã‡∏ô",K,j,O,ce="‡∏ó‡∏∏‡∏Å‡πÇ‡∏ã‡∏ô",ue,A,V="üìä ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å CSV",L,E,S,w,B=s[0].length+"",W,se,R,fe="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î",Y,$,Z,de=s[7].toFixed(1)+"",re,_e,ee,Ie="‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢",Ve,Q,H,pe=s[6].toFixed(1)+"",be,ne,q,oe,Ee="‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡∏à‡∏ö‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£",X,ae,he,ge=s[0].filter(nt).length+"",ke,we,ie,g="‡∏ú‡∏π‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏ö‡πÅ‡∏•‡πâ‡∏ß",_,te,ve,Ce,le=Se(s[1]),I=[];for(let r=0;r<le.length;r+=1)I[r]=et($e(s,le,r));let U=Se(s[5]),x=[];for(let r=0;r<U.length;r+=1)x[r]=tt(Xe(s,U,r));function Le(r,k){return r[0].length===0?vt:ht}let Te=Le(s),G=Te(s);return{c(){e=c("div"),l=c("div"),t=c("label"),t.textContent=u,f=y(),a=c("select"),p=c("option"),p.textContent=h;for(let r=0;r<I.length;r+=1)I[r].c();m=y(),D=c("div"),d=c("label"),d.textContent=z,K=y(),j=c("select"),O=c("option"),O.textContent=ce;for(let r=0;r<x.length;r+=1)x[r].c();ue=y(),A=c("button"),A.textContent=V,L=y(),E=c("div"),S=c("div"),w=c("div"),W=M(B),se=y(),R=c("div"),R.textContent=fe,Y=y(),$=c("div"),Z=c("div"),re=M(de),_e=y(),ee=c("div"),ee.textContent=Ie,Ve=y(),Q=c("div"),H=c("div"),be=M(pe),ne=M("%"),q=y(),oe=c("div"),oe.textContent=Ee,X=y(),ae=c("div"),he=c("div"),ke=M(ge),we=y(),ie=c("div"),ie.textContent=g,_=y(),G.c(),te=Ye(),this.h()},l(r){e=i(r,"DIV",{class:!0});var k=b(e);l=i(k,"DIV",{class:!0});var v=b(l);t=i(v,"LABEL",{"data-svelte-h":!0}),N(t)!=="svelte-9rrci5"&&(t.textContent=u),f=T(v),a=i(v,"SELECT",{});var me=b(a);p=i(me,"OPTION",{"data-svelte-h":!0}),N(p)!=="svelte-1ubheet"&&(p.textContent=h);for(let ye=0;ye<I.length;ye+=1)I[ye].l(me);me.forEach(o),v.forEach(o),m=T(k),D=i(k,"DIV",{class:!0});var Oe=b(D);d=i(Oe,"LABEL",{"data-svelte-h":!0}),N(d)!=="svelte-1uqarw2"&&(d.textContent=z),K=T(Oe),j=i(Oe,"SELECT",{});var Me=b(j);O=i(Me,"OPTION",{"data-svelte-h":!0}),N(O)!=="svelte-gwu44i"&&(O.textContent=ce);for(let ye=0;ye<x.length;ye+=1)x[ye].l(Me);Me.forEach(o),Oe.forEach(o),ue=T(k),A=i(k,"BUTTON",{class:!0,"data-svelte-h":!0}),N(A)!=="svelte-annmny"&&(A.textContent=V),k.forEach(o),L=T(r),E=i(r,"DIV",{class:!0});var De=b(E);S=i(De,"DIV",{class:!0});var Pe=b(S);w=i(Pe,"DIV",{class:!0});var Ue=b(w);W=F(Ue,B),Ue.forEach(o),se=T(Pe),R=i(Pe,"DIV",{class:!0,"data-svelte-h":!0}),N(R)!=="svelte-1h3x99f"&&(R.textContent=fe),Pe.forEach(o),Y=T(De),$=i(De,"DIV",{class:!0});var ze=b($);Z=i(ze,"DIV",{class:!0});var Ge=b(Z);re=F(Ge,de),Ge.forEach(o),_e=T(ze),ee=i(ze,"DIV",{class:!0,"data-svelte-h":!0}),N(ee)!=="svelte-xbedlc"&&(ee.textContent=Ie),ze.forEach(o),Ve=T(De),Q=i(De,"DIV",{class:!0});var Ae=b(Q);H=i(Ae,"DIV",{class:!0});var Be=b(H);be=F(Be,pe),ne=F(Be,"%"),Be.forEach(o),q=T(Ae),oe=i(Ae,"DIV",{class:!0,"data-svelte-h":!0}),N(oe)!=="svelte-azm6v3"&&(oe.textContent=Ee),Ae.forEach(o),X=T(De),ae=i(De,"DIV",{class:!0});var Ne=b(ae);he=i(Ne,"DIV",{class:!0});var Je=b(he);ke=F(Je,ge),Je.forEach(o),we=T(Ne),ie=i(Ne,"DIV",{class:!0,"data-svelte-h":!0}),N(ie)!=="svelte-y98h07"&&(ie.textContent=g),Ne.forEach(o),De.forEach(o),_=T(r),G.l(r),te=Ye(),this.h()},h(){p.__value="",je(p,p.__value),s[3]===void 0&&We(()=>s[9].call(a)),C(l,"class","filter-group"),O.__value="",je(O,O.__value),s[4]===void 0&&We(()=>s[10].call(j)),C(D,"class","filter-group"),C(A,"class","btn-export"),C(e,"class","filters"),C(w,"class","summary-number"),C(R,"class","summary-label"),C(S,"class","summary-card"),C(Z,"class","summary-number"),C(ee,"class","summary-label"),C($,"class","summary-card"),C(H,"class","summary-number"),C(oe,"class","summary-label"),C(Q,"class","summary-card"),C(he,"class","summary-number"),C(ie,"class","summary-label"),C(ae,"class","summary-card"),C(E,"class","summary-cards")},m(r,k){P(r,e,k),n(e,l),n(l,t),n(l,f),n(l,a),n(a,p);for(let v=0;v<I.length;v+=1)I[v]&&I[v].m(a,null);Fe(a,s[3],!0),n(e,m),n(e,D),n(D,d),n(D,K),n(D,j),n(j,O);for(let v=0;v<x.length;v+=1)x[v]&&x[v].m(j,null);Fe(j,s[4],!0),n(e,ue),n(e,A),P(r,L,k),P(r,E,k),n(E,S),n(S,w),n(w,W),n(S,se),n(S,R),n(E,Y),n(E,$),n($,Z),n(Z,re),n($,_e),n($,ee),n(E,Ve),n(E,Q),n(Q,H),n(H,be),n(H,ne),n(Q,q),n(Q,oe),n(E,X),n(E,ae),n(ae,he),n(he,ke),n(ae,we),n(ae,ie),P(r,_,k),G.m(r,k),P(r,te,k),ve||(Ce=[qe(a,"change",s[9]),qe(j,"change",s[10]),qe(A,"click",s[8])],ve=!0)},p(r,k){if(k&2){le=Se(r[1]);let v;for(v=0;v<le.length;v+=1){const me=$e(r,le,v);I[v]?I[v].p(me,k):(I[v]=et(me),I[v].c(),I[v].m(a,null))}for(;v<I.length;v+=1)I[v].d(1);I.length=le.length}if(k&10&&Fe(a,r[3]),k&32){U=Se(r[5]);let v;for(v=0;v<U.length;v+=1){const me=Xe(r,U,v);x[v]?x[v].p(me,k):(x[v]=tt(me),x[v].c(),x[v].m(j,null))}for(;v<x.length;v+=1)x[v].d(1);x.length=U.length}k&48&&Fe(j,r[4]),k&1&&B!==(B=r[0].length+"")&&J(W,B),k&128&&de!==(de=r[7].toFixed(1)+"")&&J(re,de),k&64&&pe!==(pe=r[6].toFixed(1)+"")&&J(be,pe),k&1&&ge!==(ge=r[0].filter(nt).length+"")&&J(ke,ge),Te===(Te=Le(r))&&G?G.p(r,k):(G.d(1),G=Te(r),G&&(G.c(),G.m(te.parentNode,te)))},d(r){r&&(o(e),o(L),o(E),o(_),o(te)),Re(I,r),Re(x,r),G.d(r),ve=!1,ct(Ce)}}}function _t(s){let e,l="‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...";return{c(){e=c("div"),e.textContent=l,this.h()},l(t){e=i(t,"DIV",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-whnzab"&&(e.textContent=l),this.h()},h(){C(e,"class","loading")},m(t,u){P(t,e,u)},p:xe,d(t){t&&o(e)}}}function et(s){let e,l=s[25].title+"",t,u;return{c(){e=c("option"),t=M(l),this.h()},l(f){e=i(f,"OPTION",{});var a=b(e);t=F(a,l),a.forEach(o),this.h()},h(){e.__value=u=s[25].id,je(e,e.__value)},m(f,a){P(f,e,a),n(e,t)},p(f,a){a&2&&l!==(l=f[25].title+"")&&J(t,l),a&2&&u!==(u=f[25].id)&&(e.__value=u,je(e,e.__value))},d(f){f&&o(e)}}}function tt(s){let e,l=s[22].name+"",t,u;return{c(){e=c("option"),t=M(l),this.h()},l(f){e=i(f,"OPTION",{});var a=b(e);t=F(a,l),a.forEach(o),this.h()},h(){e.__value=u=s[22].id,je(e,e.__value)},m(f,a){P(f,e,a),n(e,t)},p(f,a){a&32&&l!==(l=f[22].name+"")&&J(t,l),a&32&&u!==(u=f[22].id)&&(e.__value=u,je(e,e.__value))},d(f){f&&o(e)}}}function ht(s){let e,l,t,u="<tr><th>‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</th> <th>‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£</th> <th>‡∏ß‡∏¥‡∏ä‡∏≤</th> <th>‡πÇ‡∏ã‡∏ô</th> <th>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</th> <th>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡πâ‡∏≤‡∏ß‡∏´‡∏ô‡πâ‡∏≤</th> <th>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</th> <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th> <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</th></tr>",f,a,p=Se(s[0]),h=[];for(let m=0;m<p.length;m+=1)h[m]=st(Qe(s,p,m));return{c(){e=c("div"),l=c("table"),t=c("thead"),t.innerHTML=u,f=y(),a=c("tbody");for(let m=0;m<h.length;m+=1)h[m].c();this.h()},l(m){e=i(m,"DIV",{class:!0});var D=b(e);l=i(D,"TABLE",{class:!0});var d=b(l);t=i(d,"THEAD",{"data-svelte-h":!0}),N(t)!=="svelte-1hgopj6"&&(t.innerHTML=u),f=T(d),a=i(d,"TBODY",{});var z=b(a);for(let K=0;K<h.length;K+=1)h[K].l(z);z.forEach(o),d.forEach(o),D.forEach(o),this.h()},h(){C(l,"class","table"),C(e,"class","report-table")},m(m,D){P(m,e,D),n(e,l),n(l,t),n(l,f),n(l,a);for(let d=0;d<h.length;d+=1)h[d]&&h[d].m(a,null)},p(m,D){if(D&1){p=Se(m[0]);let d;for(d=0;d<p.length;d+=1){const z=Qe(m,p,d);h[d]?h[d].p(z,D):(h[d]=st(z),h[d].c(),h[d].m(a,null))}for(;d<h.length;d+=1)h[d].d(1);h.length=p.length}},d(m){m&&o(e),Re(h,m)}}}function vt(s){let e,l="<p>‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ï‡∏≤‡∏°‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</p>";return{c(){e=c("div"),e.innerHTML=l,this.h()},l(t){e=i(t,"DIV",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-1f3mxlm"&&(e.innerHTML=l),this.h()},h(){C(e,"class","empty-state")},m(t,u){P(t,e,u)},p:xe,d(t){t&&o(e)}}}function mt(s){let e,l="‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô";return{c(){e=c("span"),e.textContent=l,this.h()},l(t){e=i(t,"SPAN",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-o6a63w"&&(e.textContent=l),this.h()},h(){C(e,"class","text-gray-500")},m(t,u){P(t,e,u)},p:xe,d(t){t&&o(e)}}}function pt(s){let e=s[18].score.toFixed(1)+"",l;return{c(){l=M(e)},l(t){l=F(t,e)},m(t,u){P(t,l,u)},p(t,u){u&1&&e!==(e=t[18].score.toFixed(1)+"")&&J(l,e)},d(t){t&&o(l)}}}function bt(s){let e,l="‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô";return{c(){e=c("span"),e.textContent=l,this.h()},l(t){e=i(t,"SPAN",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-1a556sj"&&(e.textContent=l),this.h()},h(){C(e,"class","text-gray-500")},m(t,u){P(t,e,u)},p:xe,d(t){t&&o(e)}}}function lt(s){let e,l=s[21].level+"",t,u;return{c(){e=c("span"),t=M(l),this.h()},l(f){e=i(f,"SPAN",{class:!0});var a=b(e);t=F(a,l),a.forEach(o),this.h()},h(){C(e,"class",u="performance-badge "+s[21].class)},m(f,a){P(f,e,a),n(e,t)},p(f,a){a&1&&l!==(l=f[21].level+"")&&J(t,l),a&1&&u!==(u="performance-badge "+f[21].class)&&C(e,"class",u)},d(f){f&&o(e)}}}function gt(s){let e,l="‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô";return{c(){e=c("span"),e.textContent=l,this.h()},l(t){e=i(t,"SPAN",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-7r5hsn"&&(e.textContent=l),this.h()},h(){C(e,"class","status-in-progress")},m(t,u){P(t,e,u)},d(t){t&&o(e)}}}function Ct(s){let e,l="‡∏à‡∏ö‡πÅ‡∏•‡πâ‡∏ß";return{c(){e=c("span"),e.textContent=l,this.h()},l(t){e=i(t,"SPAN",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-o09hdb"&&(e.textContent=l),this.h()},h(){C(e,"class","status-completed")},m(t,u){P(t,e,u)},d(t){t&&o(e)}}}function st(s){var ae,he,ge,ke,we,ie;let e,l,t=(((ae=s[18].profiles)==null?void 0:ae.full_name)||"‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö‡∏ä‡∏∑‡πà‡∏≠")+"",u,f,a,p=(((he=s[18].courses)==null?void 0:he.title)||"‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£")+"",h,m,D,d=(((ke=(ge=s[18].courses)==null?void 0:ge.subjects)==null?void 0:ke.name)||"‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö‡∏ß‡∏¥‡∏ä‡∏≤")+"",z,K,j,O=(((ie=(we=s[18].profiles)==null?void 0:we.zones)==null?void 0:ie.name)||"‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏")+"",ce,ue,A,V,L,E,S,w,B,W=(s[18].progress||0).toFixed(1)+"",se,R,fe,Y,$,Z,de,re,_e=new Date(s[18].enrolled_at).toLocaleDateString("th-TH")+"",ee,Ie;function Ve(g,_){return g[18].score!==null?pt:mt}let Q=Ve(s),H=Q(s);function pe(g,_){return g[18].score!==null?lt:bt}function be(g,_){return _===lt?ft(g):g}let ne=pe(s),q=ne(be(s,ne));function oe(g,_){return g[18].completed_at?Ct:gt}let Ee=oe(s),X=Ee(s);return{c(){e=c("tr"),l=c("td"),u=M(t),f=y(),a=c("td"),h=M(p),m=y(),D=c("td"),z=M(d),K=y(),j=c("td"),ce=M(O),ue=y(),A=c("td"),H.c(),V=y(),L=c("td"),E=c("div"),S=c("div"),w=y(),B=c("small"),se=M(W),R=M("%"),fe=y(),Y=c("td"),q.c(),$=y(),Z=c("td"),X.c(),de=y(),re=c("td"),ee=M(_e),Ie=y(),this.h()},l(g){e=i(g,"TR",{});var _=b(e);l=i(_,"TD",{});var te=b(l);u=F(te,t),te.forEach(o),f=T(_),a=i(_,"TD",{});var ve=b(a);h=F(ve,p),ve.forEach(o),m=T(_),D=i(_,"TD",{});var Ce=b(D);z=F(Ce,d),Ce.forEach(o),K=T(_),j=i(_,"TD",{});var le=b(j);ce=F(le,O),le.forEach(o),ue=T(_),A=i(_,"TD",{});var I=b(A);H.l(I),I.forEach(o),V=T(_),L=i(_,"TD",{});var U=b(L);E=i(U,"DIV",{class:!0});var x=b(E);S=i(x,"DIV",{class:!0,style:!0}),b(S).forEach(o),x.forEach(o),w=T(U),B=i(U,"SMALL",{});var Le=b(B);se=F(Le,W),R=F(Le,"%"),Le.forEach(o),U.forEach(o),fe=T(_),Y=i(_,"TD",{});var Te=b(Y);q.l(Te),Te.forEach(o),$=T(_),Z=i(_,"TD",{});var G=b(Z);X.l(G),G.forEach(o),de=T(_),re=i(_,"TD",{});var r=b(re);ee=F(r,_e),r.forEach(o),Ie=T(_),_.forEach(o),this.h()},h(){C(S,"class","h-full bg-primary-500 transition-all duration-300"),Ze(S,"width",(s[18].progress||0)+"%"),C(E,"class","w-24 h-2 bg-gray-200 rounded overflow-hidden")},m(g,_){P(g,e,_),n(e,l),n(l,u),n(e,f),n(e,a),n(a,h),n(e,m),n(e,D),n(D,z),n(e,K),n(e,j),n(j,ce),n(e,ue),n(e,A),H.m(A,null),n(e,V),n(e,L),n(L,E),n(E,S),n(L,w),n(L,B),n(B,se),n(B,R),n(e,fe),n(e,Y),q.m(Y,null),n(e,$),n(e,Z),X.m(Z,null),n(e,de),n(e,re),n(re,ee),n(e,Ie)},p(g,_){var te,ve,Ce,le,I,U;_&1&&t!==(t=(((te=g[18].profiles)==null?void 0:te.full_name)||"‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö‡∏ä‡∏∑‡πà‡∏≠")+"")&&J(u,t),_&1&&p!==(p=(((ve=g[18].courses)==null?void 0:ve.title)||"‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£")+"")&&J(h,p),_&1&&d!==(d=(((le=(Ce=g[18].courses)==null?void 0:Ce.subjects)==null?void 0:le.name)||"‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö‡∏ß‡∏¥‡∏ä‡∏≤")+"")&&J(z,d),_&1&&O!==(O=(((U=(I=g[18].profiles)==null?void 0:I.zones)==null?void 0:U.name)||"‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏")+"")&&J(ce,O),Q===(Q=Ve(g))&&H?H.p(g,_):(H.d(1),H=Q(g),H&&(H.c(),H.m(A,null))),_&1&&Ze(S,"width",(g[18].progress||0)+"%"),_&1&&W!==(W=(g[18].progress||0).toFixed(1)+"")&&J(se,W),ne===(ne=pe(g))&&q?q.p(be(g,ne),_):(q.d(1),q=ne(be(g,ne)),q&&(q.c(),q.m(Y,null))),Ee!==(Ee=oe(g))&&(X.d(1),X=Ee(g),X&&(X.c(),X.m(Z,null))),_&1&&_e!==(_e=new Date(g[18].enrolled_at).toLocaleDateString("th-TH")+"")&&J(ee,_e)},d(g){g&&o(e),H.d(),q.d(),X.d()}}}function Dt(s){let e,l,t='<h1 class="page-title">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡∏ö‡∏£‡∏°</h1> <a href="/reports" class="btn-back">‚Üê ‡∏Å‡∏•‡∏±‡∏ö</a>',u;function f(h,m){return h[2]?_t:dt}let a=f(s),p=a(s);return{c(){e=c("div"),l=c("div"),l.innerHTML=t,u=y(),p.c(),this.h()},l(h){e=i(h,"DIV",{class:!0});var m=b(e);l=i(m,"DIV",{class:!0,"data-svelte-h":!0}),N(l)!=="svelte-l4oyne"&&(l.innerHTML=t),u=T(m),p.l(m),m.forEach(o),this.h()},h(){C(l,"class","page-header"),C(e,"class","report-container")},m(h,m){P(h,e,m),n(e,l),n(e,u),p.m(e,null)},p(h,[m]){a===(a=f(h))&&p?p.p(h,m):(p.d(1),p=a(h),p&&(p.c(),p.m(e,null)))},i:xe,o:xe,d(h){h&&o(e),p.d()}}}function Et(s){return s>=80?{level:"‡∏î‡∏µ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°",class:"excellent"}:s>=70?{level:"‡∏î‡∏µ",class:"good"}:s>=60?{level:"‡∏û‡∏≠‡πÉ‡∏ä‡πâ",class:"fair"}:s>=50?{level:"‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á",class:"poor"}:{level:"‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô",class:"fail"}}function kt(s){const e=s.filter(l=>l.score!==null);return e.length===0?0:e.reduce((l,t)=>l+t.score,0)/e.length}const nt=s=>s.completed_at;function Tt(s,e,l){let t,u,f,a=null,p=[],h=[],m=!0,D="",d="",z=[];it(async()=>{const{data:{session:V}}=await He.auth.getSession();if(!V){ut("/login");return}a=V.user,await K(),await j(),l(2,m=!1)});async function K(){if(!a)return;const{data:V}=await He.from("profiles").select("*").eq("id",a.id).single()}async function j(){const{data:V}=await He.from("zones").select("*").order("name");l(5,z=V||[]);const{data:L}=await He.from("courses").select(`
        *,
        subjects (name),
        profiles (full_name)
      `).eq("is_published",!0);l(1,p=L||[]);const{data:E}=await He.from("course_enrollments").select(`
        *,
        courses (
          title,
          subjects (name)
        ),
        profiles (
          full_name,
          zone_id,
          zones (name)
        )
      `);h=E||[]}function O(){let V=h;return D&&(V=V.filter(L=>L.course_id===D)),d&&(V=V.filter(L=>{var E;return((E=L.profiles)==null?void 0:E.zone_id)===d})),V}function ce(){const V=O(),L=[["‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô","‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£","‡∏ß‡∏¥‡∏ä‡∏≤","‡πÇ‡∏ã‡∏ô","‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô","‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡πâ‡∏≤‡∏ß‡∏´‡∏ô‡πâ‡∏≤ (%)","‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞","‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô","‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏ö"].join(","),...V.map(w=>{var B,W,se,R,fe,Y;return[((B=w.profiles)==null?void 0:B.full_name)||"",((W=w.courses)==null?void 0:W.title)||"",((R=(se=w.courses)==null?void 0:se.subjects)==null?void 0:R.name)||"",((Y=(fe=w.profiles)==null?void 0:fe.zones)==null?void 0:Y.name)||"",w.score||"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô",w.progress||0,w.completed_at?"‡∏à‡∏ö‡πÅ‡∏•‡πâ‡∏ß":"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô",new Date(w.enrolled_at).toLocaleDateString("th-TH"),w.completed_at?new Date(w.completed_at).toLocaleDateString("th-TH"):"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏à‡∏ö"].join(",")})].join(`
`),E=new Blob([L],{type:"text/csv;charset=utf-8;"}),S=document.createElement("a");S.href=URL.createObjectURL(E),S.download="student-performance-report.csv",S.click()}function ue(){D=Ke(this),l(3,D),l(1,p)}function A(){d=Ke(this),l(4,d),l(5,z)}return s.$$.update=()=>{s.$$.dirty&1&&l(7,u=kt(t)),s.$$.dirty&1&&l(6,f=t.length>0?t.filter(V=>V.completed_at).length/t.length*100:0)},l(0,t=O()),[t,p,m,D,d,z,f,u,ce,ue,A]}class St extends at{constructor(e){super(),rt(this,e,Tt,Dt,ot,{})}}export{St as component};
