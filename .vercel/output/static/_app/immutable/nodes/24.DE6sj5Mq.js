import{S as Q,i as U,s as X,d as m,u as w,m as x,o as k,b as f,v as I,w as M,e as S,f as G,x as T,j as C,y as L,r as Y,R as A,T as B,V as F,c as R,F as Z,L as ee,D as K,h as v,k as y,a as te,g as se,t as re}from"../chunks/BVH3f4ly.js";import"../chunks/IHki7fMi.js";import{g as O}from"../chunks/BP_01uF4.js";import{u as ae,s as W,a as ne,b as ie}from"../chunks/CVt4VWCQ.js";import{I as z}from"../chunks/DO4uSRHz.js";import{B as oe}from"../chunks/FVOYNbUa.js";import{C as le}from"../chunks/TUkSHNEh.js";function ue(o){let s=o[2]?"กำลังเข้าสู่ระบบ...":"เข้าสู่ระบบ",a;return{c(){a=re(s)},l(r){a=se(r,s)},m(r,e){f(r,a,e)},p(r,e){e&4&&s!==(s=r[2]?"กำลังเข้าสู่ระบบ...":"เข้าสู่ระบบ")&&te(a,s)},d(r){r&&m(a)}}}function de(o){let s,a='<h1 class="text-2xl font-semibold text-primary-800 mb-2">เข้าสู่ระบบ</h1> <p class="text-gray-600">ระบบจัดการโรงเรียน</p>',r,e,n,p,g,u,$,l,d,b,c,D='<h3 class="text-sm text-gray-600 mb-3">บัญชีทดสอบ:</h3> <div class="space-y-2"><div class="bg-primary-50 p-3 rounded-lg text-xs border border-primary-100"><strong class="text-primary-800">Super Admin:</strong> superadmin1@school.com / password123</div> <div class="bg-primary-50 p-3 rounded-lg text-xs border border-primary-100"><strong class="text-primary-800">Admin:</strong> admin1@school.com / password123</div> <div class="bg-primary-50 p-3 rounded-lg text-xs border border-primary-100"><strong class="text-primary-800">Teacher:</strong> teacher1@school.com / password123</div> <div class="bg-primary-50 p-3 rounded-lg text-xs border border-primary-100"><strong class="text-primary-800">Parent:</strong> parent1@school.com / password123</div> <div class="bg-primary-50 p-3 rounded-lg text-xs border border-primary-100"><strong class="text-primary-800">Student:</strong> student1@school.com / password123</div></div>',_,q,E;function J(t){o[5](t)}let H={type:"email",label:"อีเมล",placeholder:"กรอกอีเมลของคุณ",required:!0};o[0]!==void 0&&(H.value=o[0]),n=new z({props:H}),A.push(()=>B(n,"value",J)),n.$on("keydown",o[4]);function N(t){o[6](t)}let V={type:"password",label:"รหัสผ่าน",placeholder:"กรอกรหัสผ่านของคุณ",required:!0};return o[1]!==void 0&&(V.value=o[1]),u=new z({props:V}),A.push(()=>B(u,"value",N)),u.$on("keydown",o[4]),d=new oe({props:{type:"submit",variant:"primary",fullWidth:!0,loading:o[2],disabled:o[2],$$slots:{default:[ue]},$$scope:{ctx:o}}}),{c(){s=C("div"),s.innerHTML=a,r=y(),e=C("form"),L(n.$$.fragment),g=y(),L(u.$$.fragment),l=y(),L(d.$$.fragment),b=y(),c=C("div"),c.innerHTML=D,this.h()},l(t){s=S(t,"DIV",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-mgste2"&&(s.innerHTML=a),r=v(t),e=S(t,"FORM",{class:!0});var i=G(e);T(n.$$.fragment,i),g=v(i),T(u.$$.fragment,i),l=v(i),T(d.$$.fragment,i),i.forEach(m),b=v(t),c=S(t,"DIV",{class:!0,"data-svelte-h":!0}),K(c)!=="svelte-qki2in"&&(c.innerHTML=D),this.h()},h(){M(s,"class","text-center mb-8"),M(e,"class","space-y-6"),M(c,"class","mt-8 pt-6 border-t border-gray-200")},m(t,i){f(t,s,i),f(t,r,i),f(t,e,i),I(n,e,null),R(e,g),I(u,e,null),R(e,l),I(d,e,null),f(t,b,i),f(t,c,i),_=!0,q||(E=Z(e,"submit",ee(o[3])),q=!0)},p(t,i){const P={};!p&&i&1&&(p=!0,P.value=t[0],F(()=>p=!1)),n.$set(P);const j={};!$&&i&2&&($=!0,j.value=t[1],F(()=>$=!1)),u.$set(j);const h={};i&4&&(h.loading=t[2]),i&4&&(h.disabled=t[2]),i&132&&(h.$$scope={dirty:i,ctx:t}),d.$set(h)},i(t){_||(k(n.$$.fragment,t),k(u.$$.fragment,t),k(d.$$.fragment,t),_=!0)},o(t){x(n.$$.fragment,t),x(u.$$.fragment,t),x(d.$$.fragment,t),_=!1},d(t){t&&(m(s),m(r),m(e),m(b),m(c)),w(n),w(u),w(d),q=!1,E()}}}function pe(o){let s,a,r;return a=new le({props:{class:"w-full max-w-md",$$slots:{default:[de]},$$scope:{ctx:o}}}),{c(){s=C("div"),L(a.$$.fragment),this.h()},l(e){s=S(e,"DIV",{class:!0});var n=G(s);T(a.$$.fragment,n),n.forEach(m),this.h()},h(){M(s,"class","flex justify-center items-center min-h-[80vh] p-5")},m(e,n){f(e,s,n),I(a,s,null),r=!0},p(e,[n]){const p={};n&135&&(p.$$scope={dirty:n,ctx:e}),a.$set(p)},i(e){r||(k(a.$$.fragment,e),r=!0)},o(e){x(a.$$.fragment,e),r=!1},d(e){e&&m(s),w(a)}}}function me(o,s,a){let r="",e="",n=!1;Y(()=>ae.subscribe(d=>{d&&O("/dashboard")}));const p=async()=>{if(!r||!e){W("กรุณากรอกอีเมลและรหัสผ่าน");return}a(2,n=!0);const l=await ne(r,e);l.success?(ie("เข้าสู่ระบบสำเร็จ"),O("/dashboard")):W(l.error),a(2,n=!1)},g=l=>{l.key==="Enter"&&p()};function u(l){r=l,a(0,r)}function $(l){e=l,a(1,e)}return[r,e,n,p,g,u,$]}class ve extends Q{constructor(s){super(),U(this,s,me,pe,X,{})}}export{ve as component};
