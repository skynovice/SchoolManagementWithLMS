import{S as Rl,i as Hl,s as Nl,d as n,m as Bt,o as Qt,p as Ol,b as se,c as e,F as Ut,w as o,e as s,f as u,D as G,h as C,j as a,k as y,r as ql,n as Jt,u as zl,v as Fl,x as Gl,y as Bl,G as et,H as Ql,J as yt,a as X,I as qe,K as bl,g as q,t as z,O as xl,W as wl,E as Ul}from"../chunks/BVH3f4ly.js";import{e as ie}from"../chunks/CtnloIfX.js";import"../chunks/IHki7fMi.js";import{s as ue}from"../chunks/DtlnWW8f.js";import{g as Jl}from"../chunks/C5JyHtm3.js";import{L as Kl}from"../chunks/CMJtAESs.js";function El(d,t,r){const c=d.slice();return c[12]=t[r],c}function Dl(d,t,r){const c=d.slice();return c[15]=t[r],c}function Il(d,t,r){const c=d.slice();return c[12]=t[r],c[19]=r,c}function Cl(d,t,r){const c=d.slice();return c[15]=t[r],c}function yl(d,t,r){const c=d.slice();return c[22]=t[r],c}function Vl(d,t,r){const c=d.slice();return c[15]=t[r],c}function Wl(d){let t,r,c,p,m="‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤",v,h,j,R="‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô",S,L="‡∏†‡∏≤‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß",k,D="‡∏õ‡∏µ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ô‡∏µ‡πâ",_,T="‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î",M,A,x,g="‡∏ß‡∏¥‡∏ä‡∏≤",V,f,b,w="‡∏ó‡∏∏‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤",E,I,H,J,U,B,de="‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î",ae,he,De=d[1].totalStudents+"",ze,tt,ce,lt="üë®‚Äçüéì",st,ge,P,F,N,ne="‡πÄ‡∏Å‡∏£‡∏î‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢",le,re,Q=d[1].averageGrade.toFixed(2)+"",oe,Vt,Ie,Kt="üìä",jt,Fe,_e,Ce,ye,Wt="‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏ú‡πà‡∏≤‡∏ô",Pt,Ve,at=d[1].passRate+"",ot,St,kt,je,Xt="‚úÖ",Tt,Ge,pe,Pe,Se,Yt="‡∏ß‡∏¥‡∏ä‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î",At,Be,rt=d[1].totalSubjects+"",it,Lt,ke,Zt="üìö",dt,fe,me,Te,$t=`<h2 class="text-xl font-bold text-blue-800 flex items-center gap-3"><span class="text-2xl">üìä</span>
            ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡πÄ‡∏Å‡∏£‡∏î</h2>`,Mt,Qe,Ae,Rt,be,Le,el=`<h2 class="text-xl font-bold text-green-800 flex items-center gap-3"><span class="text-2xl">üìà</span>
            ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ß‡∏¥‡∏ä‡∏≤</h2>`,Ht,Ue,Me,ct,ve,xe,Re,tl=`<h2 class="text-xl font-bold text-yellow-800 flex items-center gap-3"><span class="text-2xl">üèÜ</span>
            ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÄ‡∏Å‡πà‡∏á</h2>`,Nt,Je,He,Ot,we,Ne,ll=`<h2 class="text-xl font-bold text-red-800 flex items-center gap-3"><span class="text-2xl">‚ö†Ô∏è</span>
            ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠</h2>`,qt,Ke,Oe,zt,sl,We=ie(d[4]),Y=[];for(let i=0;i<We.length;i+=1)Y[i]=jl(Vl(d,We,i));let Xe=ie(d[1].gradeDistribution),Z=[];for(let i=0;i<Xe.length;i+=1)Z[i]=Pl(yl(d,Xe,i));let Ye=ie(d[1].subjectPerformance),$=[];for(let i=0;i<Ye.length;i+=1)$[i]=Sl(Cl(d,Ye,i));let Ze=ie(d[1].topPerformers),ee=[];for(let i=0;i<Ze.length;i+=1)ee[i]=kl(Il(d,Ze,i));let $e=ie(d[1].needsAttention),te=[];for(let i=0;i<$e.length;i+=1)te[i]=Al(El(d,$e,i));return{c(){t=a("div"),r=a("div"),c=a("div"),p=a("label"),p.textContent=m,v=y(),h=a("select"),j=a("option"),j.textContent=R,S=a("option"),S.textContent=L,k=a("option"),k.textContent=D,_=a("option"),_.textContent=T,M=y(),A=a("div"),x=a("label"),x.textContent=g,V=y(),f=a("select"),b=a("option"),b.textContent=w;for(let i=0;i<Y.length;i+=1)Y[i].c();E=y(),I=a("div"),H=a("div"),J=a("div"),U=a("div"),B=a("p"),B.textContent=de,ae=y(),he=a("p"),ze=z(De),tt=y(),ce=a("div"),ce.textContent=lt,st=y(),ge=a("div"),P=a("div"),F=a("div"),N=a("p"),N.textContent=ne,le=y(),re=a("p"),oe=z(Q),Vt=y(),Ie=a("div"),Ie.textContent=Kt,jt=y(),Fe=a("div"),_e=a("div"),Ce=a("div"),ye=a("p"),ye.textContent=Wt,Pt=y(),Ve=a("p"),ot=z(at),St=z("%"),kt=y(),je=a("div"),je.textContent=Xt,Tt=y(),Ge=a("div"),pe=a("div"),Pe=a("div"),Se=a("p"),Se.textContent=Yt,At=y(),Be=a("p"),it=z(rt),Lt=y(),ke=a("div"),ke.textContent=Zt,dt=y(),fe=a("div"),me=a("div"),Te=a("div"),Te.innerHTML=$t,Mt=y(),Qe=a("div"),Ae=a("div");for(let i=0;i<Z.length;i+=1)Z[i].c();Rt=y(),be=a("div"),Le=a("div"),Le.innerHTML=el,Ht=y(),Ue=a("div"),Me=a("div");for(let i=0;i<$.length;i+=1)$[i].c();ct=y(),ve=a("div"),xe=a("div"),Re=a("div"),Re.innerHTML=tl,Nt=y(),Je=a("div"),He=a("div");for(let i=0;i<ee.length;i+=1)ee[i].c();Ot=y(),we=a("div"),Ne=a("div"),Ne.innerHTML=ll,qt=y(),Ke=a("div"),Oe=a("div");for(let i=0;i<te.length;i+=1)te[i].c();this.h()},l(i){t=s(i,"DIV",{class:!0});var O=u(t);r=s(O,"DIV",{class:!0});var l=u(r);c=s(l,"DIV",{class:!0});var K=u(c);p=s(K,"LABEL",{class:!0,"data-svelte-h":!0}),G(p)!=="svelte-1hnx7cn"&&(p.textContent=m),v=C(K),h=s(K,"SELECT",{class:!0});var nt=u(h);j=s(nt,"OPTION",{"data-svelte-h":!0}),G(j)!=="svelte-x9asey"&&(j.textContent=R),S=s(nt,"OPTION",{"data-svelte-h":!0}),G(S)!=="svelte-j0h69c"&&(S.textContent=L),k=s(nt,"OPTION",{"data-svelte-h":!0}),G(k)!=="svelte-mj7fd0"&&(k.textContent=D),_=s(nt,"OPTION",{"data-svelte-h":!0}),G(_)!=="svelte-tuvnhh"&&(_.textContent=T),nt.forEach(n),K.forEach(n),M=C(l),A=s(l,"DIV",{class:!0});var ut=u(A);x=s(ut,"LABEL",{class:!0,"data-svelte-h":!0}),G(x)!=="svelte-1vlq5rq"&&(x.textContent=g),V=C(ut),f=s(ut,"SELECT",{class:!0});var Ft=u(f);b=s(Ft,"OPTION",{"data-svelte-h":!0}),G(b)!=="svelte-4rkz99"&&(b.textContent=w);for(let W=0;W<Y.length;W+=1)Y[W].l(Ft);Ft.forEach(n),ut.forEach(n),l.forEach(n),O.forEach(n),E=C(i),I=s(i,"DIV",{class:!0});var Ee=u(I);H=s(Ee,"DIV",{class:!0});var al=u(H);J=s(al,"DIV",{class:!0});var ft=u(J);U=s(ft,"DIV",{});var vt=u(U);B=s(vt,"P",{class:!0,"data-svelte-h":!0}),G(B)!=="svelte-6v8ixk"&&(B.textContent=de),ae=C(vt),he=s(vt,"P",{class:!0});var rl=u(he);ze=q(rl,De),rl.forEach(n),vt.forEach(n),tt=C(ft),ce=s(ft,"DIV",{class:!0,"data-svelte-h":!0}),G(ce)!=="svelte-1w8x899"&&(ce.textContent=lt),ft.forEach(n),al.forEach(n),st=C(Ee),ge=s(Ee,"DIV",{class:!0});var nl=u(ge);P=s(nl,"DIV",{class:!0});var ht=u(P);F=s(ht,"DIV",{});var gt=u(F);N=s(gt,"P",{class:!0,"data-svelte-h":!0}),G(N)!=="svelte-ueasio"&&(N.textContent=ne),le=C(gt),re=s(gt,"P",{class:!0});var ol=u(re);oe=q(ol,Q),ol.forEach(n),gt.forEach(n),Vt=C(ht),Ie=s(ht,"DIV",{class:!0,"data-svelte-h":!0}),G(Ie)!=="svelte-1gqlnar"&&(Ie.textContent=Kt),ht.forEach(n),nl.forEach(n),jt=C(Ee),Fe=s(Ee,"DIV",{class:!0});var il=u(Fe);_e=s(il,"DIV",{class:!0});var _t=u(_e);Ce=s(_t,"DIV",{});var pt=u(Ce);ye=s(pt,"P",{class:!0,"data-svelte-h":!0}),G(ye)!=="svelte-e4zyql"&&(ye.textContent=Wt),Pt=C(pt),Ve=s(pt,"P",{class:!0});var Gt=u(Ve);ot=q(Gt,at),St=q(Gt,"%"),Gt.forEach(n),pt.forEach(n),kt=C(_t),je=s(_t,"DIV",{class:!0,"data-svelte-h":!0}),G(je)!=="svelte-dh1wtr"&&(je.textContent=Xt),_t.forEach(n),il.forEach(n),Tt=C(Ee),Ge=s(Ee,"DIV",{class:!0});var dl=u(Ge);pe=s(dl,"DIV",{class:!0});var mt=u(pe);Pe=s(mt,"DIV",{});var bt=u(Pe);Se=s(bt,"P",{class:!0,"data-svelte-h":!0}),G(Se)!=="svelte-v3a43t"&&(Se.textContent=Yt),At=C(bt),Be=s(bt,"P",{class:!0});var cl=u(Be);it=q(cl,rt),cl.forEach(n),bt.forEach(n),Lt=C(mt),ke=s(mt,"DIV",{class:!0,"data-svelte-h":!0}),G(ke)!=="svelte-efpidf"&&(ke.textContent=Zt),mt.forEach(n),dl.forEach(n),Ee.forEach(n),dt=C(i),fe=s(i,"DIV",{class:!0});var xt=u(fe);me=s(xt,"DIV",{class:!0});var wt=u(me);Te=s(wt,"DIV",{class:!0,"data-svelte-h":!0}),G(Te)!=="svelte-uz63th"&&(Te.innerHTML=$t),Mt=C(wt),Qe=s(wt,"DIV",{class:!0});var ul=u(Qe);Ae=s(ul,"DIV",{class:!0});var fl=u(Ae);for(let W=0;W<Z.length;W+=1)Z[W].l(fl);fl.forEach(n),ul.forEach(n),wt.forEach(n),Rt=C(xt),be=s(xt,"DIV",{class:!0});var Et=u(be);Le=s(Et,"DIV",{class:!0,"data-svelte-h":!0}),G(Le)!=="svelte-bwu423"&&(Le.innerHTML=el),Ht=C(Et),Ue=s(Et,"DIV",{class:!0});var vl=u(Ue);Me=s(vl,"DIV",{class:!0});var hl=u(Me);for(let W=0;W<$.length;W+=1)$[W].l(hl);hl.forEach(n),vl.forEach(n),Et.forEach(n),xt.forEach(n),ct=C(i),ve=s(i,"DIV",{class:!0});var Dt=u(ve);xe=s(Dt,"DIV",{class:!0});var It=u(xe);Re=s(It,"DIV",{class:!0,"data-svelte-h":!0}),G(Re)!=="svelte-1qnk8ga"&&(Re.innerHTML=tl),Nt=C(It),Je=s(It,"DIV",{class:!0});var gl=u(Je);He=s(gl,"DIV",{class:!0});var _l=u(He);for(let W=0;W<ee.length;W+=1)ee[W].l(_l);_l.forEach(n),gl.forEach(n),It.forEach(n),Ot=C(Dt),we=s(Dt,"DIV",{class:!0});var Ct=u(we);Ne=s(Ct,"DIV",{class:!0,"data-svelte-h":!0}),G(Ne)!=="svelte-9cl08h"&&(Ne.innerHTML=ll),qt=C(Ct),Ke=s(Ct,"DIV",{class:!0});var pl=u(Ke);Oe=s(pl,"DIV",{class:!0});var ml=u(Oe);for(let W=0;W<te.length;W+=1)te[W].l(ml);ml.forEach(n),pl.forEach(n),Ct.forEach(n),Dt.forEach(n),this.h()},h(){o(p,"class","block text-sm font-bold text-gray-700 mb-3"),j.__value="current",qe(j,j.__value),S.__value="previous",qe(S,S.__value),k.__value="year",qe(k,k.__value),_.__value="all",qe(_,_.__value),o(h,"class","w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all shadow-sm bg-white"),d[2]===void 0&&bl(()=>d[5].call(h)),o(c,"class","flex-1"),o(x,"class","block text-sm font-bold text-gray-700 mb-3"),b.__value="",qe(b,b.__value),o(f,"class","w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all shadow-sm bg-white"),d[3]===void 0&&bl(()=>d[6].call(f)),o(A,"class","flex-1"),o(r,"class","flex flex-col md:flex-row gap-6"),o(t,"class","bg-gradient-to-r from-white to-green-50 rounded-2xl shadow-lg border border-green-200 p-6 mb-8"),o(B,"class","text-blue-100 text-sm font-medium"),o(he,"class","text-3xl font-bold"),o(ce,"class","w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center text-2xl"),o(J,"class","flex items-center justify-between"),o(H,"class","bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-2xl shadow-lg"),o(N,"class","text-green-100 text-sm font-medium"),o(re,"class","text-3xl font-bold"),o(Ie,"class","w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center text-2xl"),o(P,"class","flex items-center justify-between"),o(ge,"class","bg-gradient-to-br from-green-500 to-green-600 text-white p-6 rounded-2xl shadow-lg"),o(ye,"class","text-purple-100 text-sm font-medium"),o(Ve,"class","text-3xl font-bold"),o(je,"class","w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center text-2xl"),o(_e,"class","flex items-center justify-between"),o(Fe,"class","bg-gradient-to-br from-purple-500 to-purple-600 text-white p-6 rounded-2xl shadow-lg"),o(Se,"class","text-orange-100 text-sm font-medium"),o(Be,"class","text-3xl font-bold"),o(ke,"class","w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center text-2xl"),o(pe,"class","flex items-center justify-between"),o(Ge,"class","bg-gradient-to-br from-orange-500 to-orange-600 text-white p-6 rounded-2xl shadow-lg"),o(I,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"),o(Te,"class","bg-gradient-to-r from-blue-50 to-blue-100 px-6 py-4 border-b border-blue-200"),o(Ae,"class","space-y-4"),o(Qe,"class","p-6"),o(me,"class","bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden"),o(Le,"class","bg-gradient-to-r from-green-50 to-green-100 px-6 py-4 border-b border-green-200"),o(Me,"class","space-y-4"),o(Ue,"class","p-6"),o(be,"class","bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden"),o(fe,"class","grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8"),o(Re,"class","bg-gradient-to-r from-yellow-50 to-yellow-100 px-6 py-4 border-b border-yellow-200"),o(He,"class","space-y-4"),o(Je,"class","p-6"),o(xe,"class","bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden"),o(Ne,"class","bg-gradient-to-r from-red-50 to-red-100 px-6 py-4 border-b border-red-200"),o(Oe,"class","space-y-4"),o(Ke,"class","p-6"),o(we,"class","bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden"),o(ve,"class","grid grid-cols-1 lg:grid-cols-2 gap-8")},m(i,O){se(i,t,O),e(t,r),e(r,c),e(c,p),e(c,v),e(c,h),e(h,j),e(h,S),e(h,k),e(h,_),yt(h,d[2],!0),e(r,M),e(r,A),e(A,x),e(A,V),e(A,f),e(f,b);for(let l=0;l<Y.length;l+=1)Y[l]&&Y[l].m(f,null);yt(f,d[3],!0),se(i,E,O),se(i,I,O),e(I,H),e(H,J),e(J,U),e(U,B),e(U,ae),e(U,he),e(he,ze),e(J,tt),e(J,ce),e(I,st),e(I,ge),e(ge,P),e(P,F),e(F,N),e(F,le),e(F,re),e(re,oe),e(P,Vt),e(P,Ie),e(I,jt),e(I,Fe),e(Fe,_e),e(_e,Ce),e(Ce,ye),e(Ce,Pt),e(Ce,Ve),e(Ve,ot),e(Ve,St),e(_e,kt),e(_e,je),e(I,Tt),e(I,Ge),e(Ge,pe),e(pe,Pe),e(Pe,Se),e(Pe,At),e(Pe,Be),e(Be,it),e(pe,Lt),e(pe,ke),se(i,dt,O),se(i,fe,O),e(fe,me),e(me,Te),e(me,Mt),e(me,Qe),e(Qe,Ae);for(let l=0;l<Z.length;l+=1)Z[l]&&Z[l].m(Ae,null);e(fe,Rt),e(fe,be),e(be,Le),e(be,Ht),e(be,Ue),e(Ue,Me);for(let l=0;l<$.length;l+=1)$[l]&&$[l].m(Me,null);se(i,ct,O),se(i,ve,O),e(ve,xe),e(xe,Re),e(xe,Nt),e(xe,Je),e(Je,He);for(let l=0;l<ee.length;l+=1)ee[l]&&ee[l].m(He,null);e(ve,Ot),e(ve,we),e(we,Ne),e(we,qt),e(we,Ke),e(Ke,Oe);for(let l=0;l<te.length;l+=1)te[l]&&te[l].m(Oe,null);zt||(sl=[Ut(h,"change",d[5]),Ut(f,"change",d[6])],zt=!0)},p(i,O){if(O&4&&yt(h,i[2]),O&16){We=ie(i[4]);let l;for(l=0;l<We.length;l+=1){const K=Vl(i,We,l);Y[l]?Y[l].p(K,O):(Y[l]=jl(K),Y[l].c(),Y[l].m(f,null))}for(;l<Y.length;l+=1)Y[l].d(1);Y.length=We.length}if(O&24&&yt(f,i[3]),O&2&&De!==(De=i[1].totalStudents+"")&&X(ze,De),O&2&&Q!==(Q=i[1].averageGrade.toFixed(2)+"")&&X(oe,Q),O&2&&at!==(at=i[1].passRate+"")&&X(ot,at),O&2&&rt!==(rt=i[1].totalSubjects+"")&&X(it,rt),O&2){Xe=ie(i[1].gradeDistribution);let l;for(l=0;l<Xe.length;l+=1){const K=yl(i,Xe,l);Z[l]?Z[l].p(K,O):(Z[l]=Pl(K),Z[l].c(),Z[l].m(Ae,null))}for(;l<Z.length;l+=1)Z[l].d(1);Z.length=Xe.length}if(O&2){Ye=ie(i[1].subjectPerformance);let l;for(l=0;l<Ye.length;l+=1){const K=Cl(i,Ye,l);$[l]?$[l].p(K,O):($[l]=Sl(K),$[l].c(),$[l].m(Me,null))}for(;l<$.length;l+=1)$[l].d(1);$.length=Ye.length}if(O&2){Ze=ie(i[1].topPerformers);let l;for(l=0;l<Ze.length;l+=1){const K=Il(i,Ze,l);ee[l]?ee[l].p(K,O):(ee[l]=kl(K),ee[l].c(),ee[l].m(He,null))}for(;l<ee.length;l+=1)ee[l].d(1);ee.length=Ze.length}if(O&2){$e=ie(i[1].needsAttention);let l;for(l=0;l<$e.length;l+=1){const K=El(i,$e,l);te[l]?te[l].p(K,O):(te[l]=Al(K),te[l].c(),te[l].m(Oe,null))}for(;l<te.length;l+=1)te[l].d(1);te.length=$e.length}},i:Jt,o:Jt,d(i){i&&(n(t),n(E),n(I),n(dt),n(fe),n(ct),n(ve)),et(Y,i),et(Z,i),et($,i),et(ee,i),et(te,i),zt=!1,Ql(sl)}}}function Xl(d){let t,r,c;return r=new Kl({props:{size:"lg",text:"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô..."}}),{c(){t=a("div"),Bl(r.$$.fragment),this.h()},l(p){t=s(p,"DIV",{class:!0});var m=u(t);Gl(r.$$.fragment,m),m.forEach(n),this.h()},h(){o(t,"class","flex justify-center items-center py-12")},m(p,m){se(p,t,m),Fl(r,t,null),c=!0},p:Jt,i(p){c||(Qt(r.$$.fragment,p),c=!0)},o(p){Bt(r.$$.fragment,p),c=!1},d(p){p&&n(t),zl(r)}}}function jl(d){let t,r=d[15].name+"",c,p;return{c(){t=a("option"),c=z(r),this.h()},l(m){t=s(m,"OPTION",{});var v=u(t);c=q(v,r),v.forEach(n),this.h()},h(){t.__value=p=d[15].id,qe(t,t.__value)},m(m,v){se(m,t,v),e(t,c)},p(m,v){v&16&&r!==(r=m[15].name+"")&&X(c,r),v&16&&p!==(p=m[15].id)&&(t.__value=p,qe(t,t.__value))},d(m){m&&n(t)}}}function Pl(d){let t,r,c=d[22].grade+"",p,m,v,h,j,R=d[22].count+"",S,L,k,D,_=d[22].percentage+"",T,M,A,x,g,V,f;return{c(){t=a("div"),r=a("div"),p=z(c),m=y(),v=a("div"),h=a("div"),j=a("span"),S=z(R),L=z(" ‡∏Ñ‡∏ô"),k=y(),D=a("span"),T=z(_),M=z("%"),A=y(),x=a("div"),g=a("div"),f=y(),this.h()},l(b){t=s(b,"DIV",{class:!0});var w=u(t);r=s(w,"DIV",{class:!0});var E=u(r);p=q(E,c),E.forEach(n),m=C(w),v=s(w,"DIV",{class:!0});var I=u(v);h=s(I,"DIV",{class:!0});var H=u(h);j=s(H,"SPAN",{class:!0});var J=u(j);S=q(J,R),L=q(J," ‡∏Ñ‡∏ô"),J.forEach(n),k=C(H),D=s(H,"SPAN",{class:!0});var U=u(D);T=q(U,_),M=q(U,"%"),U.forEach(n),H.forEach(n),A=C(I),x=s(I,"DIV",{class:!0});var B=u(x);g=s(B,"DIV",{class:!0,style:!0}),u(g).forEach(n),B.forEach(n),I.forEach(n),f=C(w),w.forEach(n),this.h()},h(){o(r,"class","w-12 text-center font-bold text-gray-700"),o(j,"class","text-sm text-gray-600"),o(D,"class","text-sm font-medium text-gray-700"),o(h,"class","flex items-center justify-between mb-1"),o(g,"class",V="h-3 rounded-full "+Ll(d[22].grade)),wl(g,"width",d[22].percentage+"%"),o(x,"class","w-full bg-gray-200 rounded-full h-3"),o(v,"class","flex-1"),o(t,"class","flex items-center gap-4")},m(b,w){se(b,t,w),e(t,r),e(r,p),e(t,m),e(t,v),e(v,h),e(h,j),e(j,S),e(j,L),e(h,k),e(h,D),e(D,T),e(D,M),e(v,A),e(v,x),e(x,g),e(t,f)},p(b,w){w&2&&c!==(c=b[22].grade+"")&&X(p,c),w&2&&R!==(R=b[22].count+"")&&X(S,R),w&2&&_!==(_=b[22].percentage+"")&&X(T,_),w&2&&V!==(V="h-3 rounded-full "+Ll(b[22].grade))&&o(g,"class",V),w&2&&wl(g,"width",b[22].percentage+"%")},d(b){b&&n(t)}}}function Sl(d){let t,r,c,p=d[15].subject+"",m,v,h,j=d[15].passRate+"",R,S,L,k,D,_,T,M=d[15].average.toFixed(2)+"",A,x,g,V=d[15].students+"",f,b,w;return{c(){t=a("div"),r=a("div"),c=a("h3"),m=z(p),v=y(),h=a("span"),R=z(j),S=z("%"),k=y(),D=a("div"),_=a("span"),T=z("‡πÄ‡∏Å‡∏£‡∏î‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢: "),A=z(M),x=y(),g=a("span"),f=z(V),b=z(" ‡∏Ñ‡∏ô"),w=y(),this.h()},l(E){t=s(E,"DIV",{class:!0});var I=u(t);r=s(I,"DIV",{class:!0});var H=u(r);c=s(H,"H3",{class:!0});var J=u(c);m=q(J,p),J.forEach(n),v=C(H),h=s(H,"SPAN",{class:!0});var U=u(h);R=q(U,j),S=q(U,"%"),U.forEach(n),H.forEach(n),k=C(I),D=s(I,"DIV",{class:!0});var B=u(D);_=s(B,"SPAN",{});var de=u(_);T=q(de,"‡πÄ‡∏Å‡∏£‡∏î‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢: "),A=q(de,M),de.forEach(n),x=C(B),g=s(B,"SPAN",{});var ae=u(g);f=q(ae,V),b=q(ae," ‡∏Ñ‡∏ô"),ae.forEach(n),B.forEach(n),w=C(I),I.forEach(n),this.h()},h(){o(c,"class","font-semibold text-gray-800"),o(h,"class",L="px-3 py-1 text-sm font-medium rounded-full "+Ml(d[15].passRate)),o(r,"class","flex items-center justify-between mb-2"),o(D,"class","flex items-center justify-between text-sm text-gray-600"),o(t,"class","border border-gray-100 rounded-xl p-4")},m(E,I){se(E,t,I),e(t,r),e(r,c),e(c,m),e(r,v),e(r,h),e(h,R),e(h,S),e(t,k),e(t,D),e(D,_),e(_,T),e(_,A),e(D,x),e(D,g),e(g,f),e(g,b),e(t,w)},p(E,I){I&2&&p!==(p=E[15].subject+"")&&X(m,p),I&2&&j!==(j=E[15].passRate+"")&&X(R,j),I&2&&L!==(L="px-3 py-1 text-sm font-medium rounded-full "+Ml(E[15].passRate))&&o(h,"class",L),I&2&&M!==(M=E[15].average.toFixed(2)+"")&&X(A,M),I&2&&V!==(V=E[15].students+"")&&X(f,V)},d(E){E&&n(t)}}}function kl(d){let t,r,c=d[19]+1+"",p,m,v,h,j=d[12].name+"",R,S,L,k=d[12].class+"",D,_,T,M,A=(typeof d[12].grade=="number"?d[12].grade.toFixed(2):d[12].grade)+"",x,g,V,f="GPA",b;return{c(){t=a("div"),r=a("div"),p=z(c),m=y(),v=a("div"),h=a("h3"),R=z(j),S=y(),L=a("p"),D=z(k),_=y(),T=a("div"),M=a("div"),x=z(A),g=y(),V=a("div"),V.textContent=f,b=y(),this.h()},l(w){t=s(w,"DIV",{class:!0});var E=u(t);r=s(E,"DIV",{class:!0});var I=u(r);p=q(I,c),I.forEach(n),m=C(E),v=s(E,"DIV",{class:!0});var H=u(v);h=s(H,"H3",{class:!0});var J=u(h);R=q(J,j),J.forEach(n),S=C(H),L=s(H,"P",{class:!0});var U=u(L);D=q(U,k),U.forEach(n),H.forEach(n),_=C(E),T=s(E,"DIV",{class:!0});var B=u(T);M=s(B,"DIV",{class:!0});var de=u(M);x=q(de,A),de.forEach(n),g=C(B),V=s(B,"DIV",{class:!0,"data-svelte-h":!0}),G(V)!=="svelte-iv10ih"&&(V.textContent=f),B.forEach(n),b=C(E),E.forEach(n),this.h()},h(){o(r,"class","w-8 h-8 bg-yellow-500 text-white rounded-full flex items-center justify-center font-bold text-sm"),o(h,"class","font-semibold text-gray-800"),o(L,"class","text-sm text-gray-600"),o(v,"class","flex-1"),o(M,"class","text-lg font-bold text-yellow-600"),o(V,"class","text-xs text-gray-500"),o(T,"class","text-right"),o(t,"class","flex items-center gap-4 p-4 bg-gradient-to-r from-yellow-50 to-yellow-100 rounded-xl")},m(w,E){se(w,t,E),e(t,r),e(r,p),e(t,m),e(t,v),e(v,h),e(h,R),e(v,S),e(v,L),e(L,D),e(t,_),e(t,T),e(T,M),e(M,x),e(T,g),e(T,V),e(t,b)},p(w,E){E&2&&j!==(j=w[12].name+"")&&X(R,j),E&2&&k!==(k=w[12].class+"")&&X(D,k),E&2&&A!==(A=(typeof w[12].grade=="number"?w[12].grade.toFixed(2):w[12].grade)+"")&&X(x,A)},d(w){w&&n(t)}}}function Tl(d){let t,r=d[15]+"",c,p;return{c(){t=a("span"),c=z(r),p=y(),this.h()},l(m){t=s(m,"SPAN",{class:!0});var v=u(t);c=q(v,r),p=C(v),v.forEach(n),this.h()},h(){o(t,"class","px-2 py-1 text-xs bg-red-200 text-red-800 rounded-full")},m(m,v){se(m,t,v),e(t,c),e(t,p)},p(m,v){v&2&&r!==(r=m[15]+"")&&X(c,r)},d(m){m&&n(t)}}}function Al(d){let t,r,c,p=d[12].name+"",m,v,h,j=(typeof d[12].grade=="number"?d[12].grade.toFixed(2):d[12].grade)+"",R,S,L,k=d[12].class+"",D,_,T,M,A=ie(d[12].subjects),x=[];for(let g=0;g<A.length;g+=1)x[g]=Tl(Dl(d,A,g));return{c(){t=a("div"),r=a("div"),c=a("h3"),m=z(p),v=y(),h=a("span"),R=z(j),S=y(),L=a("p"),D=z(k),_=y(),T=a("div");for(let g=0;g<x.length;g+=1)x[g].c();M=y(),this.h()},l(g){t=s(g,"DIV",{class:!0});var V=u(t);r=s(V,"DIV",{class:!0});var f=u(r);c=s(f,"H3",{class:!0});var b=u(c);m=q(b,p),b.forEach(n),v=C(f),h=s(f,"SPAN",{class:!0});var w=u(h);R=q(w,j),w.forEach(n),f.forEach(n),S=C(V),L=s(V,"P",{class:!0});var E=u(L);D=q(E,k),E.forEach(n),_=C(V),T=s(V,"DIV",{class:!0});var I=u(T);for(let H=0;H<x.length;H+=1)x[H].l(I);I.forEach(n),M=C(V),V.forEach(n),this.h()},h(){o(c,"class","font-semibold text-gray-800"),o(h,"class","text-lg font-bold text-red-600"),o(r,"class","flex items-center justify-between mb-2"),o(L,"class","text-sm text-gray-600 mb-2"),o(T,"class","flex flex-wrap gap-1"),o(t,"class","border border-red-200 rounded-xl p-4 bg-red-50")},m(g,V){se(g,t,V),e(t,r),e(r,c),e(c,m),e(r,v),e(r,h),e(h,R),e(t,S),e(t,L),e(L,D),e(t,_),e(t,T);for(let f=0;f<x.length;f+=1)x[f]&&x[f].m(T,null);e(t,M)},p(g,V){if(V&2&&p!==(p=g[12].name+"")&&X(m,p),V&2&&j!==(j=(typeof g[12].grade=="number"?g[12].grade.toFixed(2):g[12].grade)+"")&&X(R,j),V&2&&k!==(k=g[12].class+"")&&X(D,k),V&2){A=ie(g[12].subjects);let f;for(f=0;f<A.length;f+=1){const b=Dl(g,A,f);x[f]?x[f].p(b,V):(x[f]=Tl(b),x[f].c(),x[f].m(T,null))}for(;f<x.length;f+=1)x[f].d(1);x.length=A.length}},d(g){g&&n(t),et(x,g)}}}function Yl(d){let t,r,c,p='<div class="w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center text-white text-3xl shadow-lg">üéØ</div> <div><h1 class="text-4xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h1> <p class="text-gray-600 text-lg">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤</p></div>',m,v,h,j="<span>üìä</span> <span>‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</span>",R,S,L="<span>‚Üê</span> <span>‡∏Å‡∏•‡∏±‡∏ö</span>",k,D,_,T,M,A;const x=[Xl,Wl],g=[];function V(f,b){return f[0]?0:1}return D=V(d),_=g[D]=x[D](d),{c(){t=a("div"),r=a("div"),c=a("div"),c.innerHTML=p,m=y(),v=a("div"),h=a("button"),h.innerHTML=j,R=y(),S=a("a"),S.innerHTML=L,k=y(),_.c(),this.h()},l(f){t=s(f,"DIV",{class:!0});var b=u(t);r=s(b,"DIV",{class:!0});var w=u(r);c=s(w,"DIV",{class:!0,"data-svelte-h":!0}),G(c)!=="svelte-tobid7"&&(c.innerHTML=p),m=C(w),v=s(w,"DIV",{class:!0});var E=u(v);h=s(E,"BUTTON",{class:!0,"data-svelte-h":!0}),G(h)!=="svelte-1mff23x"&&(h.innerHTML=j),R=C(E),S=s(E,"A",{href:!0,class:!0,"data-svelte-h":!0}),G(S)!=="svelte-1d3vt6n"&&(S.innerHTML=L),E.forEach(n),w.forEach(n),k=C(b),_.l(b),b.forEach(n),this.h()},h(){o(c,"class","flex items-center gap-4"),o(h,"class","flex items-center gap-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-xl transition-colors"),o(S,"href","/reports"),o(S,"class","flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl transition-colors no-underline"),o(v,"class","flex gap-3"),o(r,"class","flex items-center justify-between mb-8"),o(t,"class","max-w-7xl mx-auto")},m(f,b){se(f,t,b),e(t,r),e(r,c),e(r,m),e(r,v),e(v,h),e(v,R),e(v,S),e(t,k),g[D].m(t,null),T=!0,M||(A=Ut(h,"click",Zl),M=!0)},p(f,[b]){let w=D;D=V(f),D===w?g[D].p(f,b):(Ul(),Bt(g[w],1,1,()=>{g[w]=null}),Ol(),_=g[D],_?_.p(f,b):(_=g[D]=x[D](f),_.c()),Qt(_,1),_.m(t,null))},i(f){T||(Qt(_),T=!0)},o(f){Bt(_),T=!1},d(f){f&&n(t),g[D].d(),M=!1,A()}}}function Ll(d){return{A:"bg-green-500","B+":"bg-blue-500",B:"bg-blue-400","C+":"bg-yellow-500",C:"bg-yellow-400","D+":"bg-orange-500",D:"bg-orange-400",F:"bg-red-500"}[d]||"bg-gray-400"}function Ml(d){return d>=90?"text-green-600 bg-green-50":d>=80?"text-blue-600 bg-blue-50":d>=70?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50"}async function Zl(){alert("‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô... (‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï)")}function $l(d,t,r){let c=null,p=!0,m={totalStudents:0,totalSubjects:0,averageGrade:0,passRate:0,gradeDistribution:[],subjectPerformance:[],topPerformers:[],needsAttention:[]},v="current",h="",j=[];ql(async()=>{const{data:{session:_}}=await ue.auth.getSession();if(!_){Jl("/login");return}c=_.user,await R(),await S(),await L(),r(0,p=!1)});async function R(){if(!c)return;const{data:_}=await ue.from("profiles").select("*").eq("id",c.id).single()}async function S(){const{data:_}=await ue.from("subjects").select("*").order("name");_&&r(4,j=_)}async function L(){try{const[_,T,M,A,x,g,V]=await Promise.all([ue.from("profiles").select("id, full_name, group_id, zone_id").eq("role","student"),ue.from("subjects").select("id, name, code"),ue.from("courses").select("id, title, subject_id"),ue.from("student_progress").select("student_id, topic_id, completion_percentage, is_completed"),ue.from("quiz_attempts").select("student_id, quiz_id, score, is_passed, created_at"),ue.from("learning_topics").select("id, title, subject_id"),ue.from("course_enrollments").select("student_id, course_id, progress, score")]),f=_.data||[],b=T.data||[],w=M.data||[],E=A.data||[],I=x.data||[],H=g.data||[],J=V.data||[],U=f.length,B=b.length,de=w.length,ae=I.filter(P=>P.score!==null),he=ae.length>0?ae.reduce((P,F)=>P+F.score,0)/ae.length/25:0,De=I.filter(P=>P.is_passed),ze=I.length>0?De.length/I.length*100:0,tt=b.map(P=>{const F=H.filter(Q=>Q.subject_id===P.id),N=E.filter(Q=>F.some(oe=>oe.id===Q.topic_id)),ne=N.filter(Q=>Q.is_completed),le=N.length>0?ne.length/N.length*100:0,re=N.length>0?N.reduce((Q,oe)=>Q+(oe.completion_percentage||0),0)/N.length:0;return{subject:P.name,code:P.code||P.name.substring(0,3).toUpperCase(),department:"‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ",average:Math.round(re/25*100)/100,passRate:Math.round(le*100)/100,students:N.length}}),ce=[];ae.length>0&&[{grade:"A",min:90,max:100},{grade:"B+",min:85,max:89},{grade:"B",min:80,max:84},{grade:"C+",min:75,max:79},{grade:"C",min:70,max:74},{grade:"D",min:60,max:69},{grade:"F",min:0,max:59}].forEach(F=>{const N=ae.filter(le=>le.score>=F.min&&le.score<=F.max).length,ne=N/ae.length*100;N>0&&ce.push({grade:F.grade,count:N,percentage:Math.round(ne*10)/10})});const lt=f.map(P=>{const F=E.filter(Q=>Q.student_id===P.id),N=I.filter(Q=>Q.student_id===P.id),ne=F.length>0?F.reduce((Q,oe)=>Q+(oe.completion_percentage||0),0)/F.length:0,le=N.length>0?N.reduce((Q,oe)=>Q+(oe.score||0),0)/N.length:0,re=(ne+le)/2;return{...P,overallScore:re,avgProgress:ne,avgQuizScore:le}}),st=lt.sort((P,F)=>F.overallScore-P.overallScore).slice(0,5).map(P=>({name:P.full_name,grade:Math.round(P.overallScore/25*100)/100,class:"‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏",id:P.id})),ge=lt.sort((P,F)=>P.overallScore-F.overallScore).slice(0,3).filter(P=>P.overallScore<60).map(P=>{const F=E.filter(N=>N.student_id===P.id&&N.completion_percentage<50).map(N=>{const ne=H.find(re=>re.id===N.topic_id),le=b.find(re=>re.id===(ne==null?void 0:ne.subject_id));return le==null?void 0:le.name}).filter(Boolean).slice(0,2);return{name:P.full_name,grade:Math.round(P.overallScore/25*100)/100,class:"‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏",subjects:F,id:P.id}});r(1,m={totalStudents:U,totalSubjects:B,totalCourses:de,averageGrade:Math.round(he*100)/100,passRate:Math.round(ze*100)/100,subjectPerformance:tt,gradeDistribution:ce,topPerformers:st,needsAttention:ge})}catch(_){console.error("Error loading academic data:",_),r(1,m={totalStudents:0,totalSubjects:0,totalCourses:0,averageGrade:0,passRate:0,subjectPerformance:[],gradeDistribution:[],topPerformers:[],needsAttention:[]})}}function k(){v=xl(this),r(2,v)}function D(){h=xl(this),r(3,h),r(4,j)}return[p,m,v,h,j,k,D]}class ns extends Rl{constructor(t){super(),Hl(this,t,$l,Yl,Nl,{})}}export{ns as component};
